{
  "comment": "Audit report generated by Bot-Henry.",
  "footnote": "Thanks for reading!",
  "findings": [
    {
      "severity": "Medium",
      "title": "Centralization risk for privileged functions",
      "description": "Contracts with privileged functions need owner/admin to be trusted not to perform malicious updates or drain funds. This may also cause a single point failure.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}104:     function changeBondingCurveAllowed(address _bondingCurve, bool _newState) external onlyOwner {\n\n244:     function claimPlatformFee() external onlyOwner {\n\n300:     function restrictShareCreation(bool _isRestricted) external onlyOwner {\n\n309:     function changeShareCreatorWhitelist(address _address, bool _isWhitelisted) external onlyOwner {\n```\n",
          "loc": [
            "[104](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L104)",
            "[244](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L244)",
            "[300](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L300)",
            "[309](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L309)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}72:     function withdrawCarry(uint256 _amount) external onlyOwner {\n```\n",
          "loc": [
            "[72](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L72)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Use `increaseAllowance()`/`decreaseAllowance()` instead of `approve()`/`safeApprove()`",
      "description": "Changing an allowance with `approve()` brings the risk that someone may use both the old and the new allowance by unfortunate transaction ordering. Refer to [ERC20 API: An Attack Vector on the Approve/TransferFrom Methods](https://docs.google.com/document/d/1YLPtQxZu1UAvO9cZ1O2RPXBbT0mooh4DYKjA_jp-RLM).\nIt is recommended to use the `increaseAllowance()`/`decreaseAllowance()` to avoid ths problem.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}51:         SafeERC20.safeApprove(note, cNote, _amount);\n```\n",
          "loc": [
            "[51](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L51)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Use of `tx.origin` is unsafe in almost every context",
      "description": "According to [Vitalik Buterin](https://ethereum.stackexchange.com/questions/196/how-do-i-make-my-dapp-serenity-proof), contracts should _not_ `assume that tx.origin will continue to be usable or meaningful`. An example of this is [EIP-3074](https://eips.ethereum.org/EIPS/eip-3074#allowing-txorigin-as-signer-1) which explicitly mentions the intention to change its semantics when it's used with new op codes. There have also been calls to [remove](https://github.com/ethereum/solidity/issues/683) `tx.origin`, and there are [security issues](solidity.readthedocs.io/en/v0.4.24/security-considerations.html#tx-origin) associated with using it for authorization. For these reasons, it's best to completely avoid the feature.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}96:             turnstile.register(tx.origin);\n```\n",
          "loc": [
            "[96](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L96)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}29:             turnstile.register(tx.origin);\n```\n",
          "loc": [
            "[29](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L29)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Variables shadowing other definitions",
      "description": "A variable declaration shadowing any other existing definition is error-prone. It can cause confusion for developers, potentially introduce bugs, and reduce the readability and maintainability.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit Shadows `state variable _uri`\n91:     constructor(string memory _uri, address _paymentToken) ERC1155(_uri) Ownable() {\n```\n",
          "loc": [
            "[91](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L91)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}/// @audit Shadows `state variable _name`\n29:         string memory _name,\n\n/// @audit Shadows `state variable _symbol`\n30:         string memory _symbol,\n\n/// @audit Shadows `state variable _owner`\n31:         address _owner,\n```\n",
          "loc": [
            "[29](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L29)",
            "[30](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L30)",
            "[31](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L31)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Missing zero address check in constructor",
      "description": "Constructors often take address parameters to initialize important components of a contract, such as owner or linked contracts. However, without a checking, there's a risk that an address parameter could be mistakenly set to the zero address (0x0). This could be due to an error or oversight during contract deployment. A zero address in a crucial role can cause serious issues, as it cannot perform actions like a normal address, and any funds sent to it will be irretrievable. It's therefore crucial to include a zero address check in constructors to prevent such potential problems. If a zero address is detected, the constructor should revert the transaction.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit `_paymentToken not checked`\n91:     constructor(string memory _uri, address _paymentToken) ERC1155(_uri) Ownable() {\n```\n",
          "loc": [
            "[91](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L91)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}/// @audit `_owner not checked`\n/// @audit `_cNote not checked`\n/// @audit `_csrRecipient not checked`\n28:     constructor(\n29:         string memory _name,\n30:         string memory _symbol,\n31:         address _owner,\n32:         address _cNote,\n33:         address _csrRecipient\n34:     ) ERC20(_name, _symbol) {\n```\n",
          "loc": [
            "[28-34](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L28-L34)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}/// @audit `_cNote not checked`\n24:     constructor(address _cNote) {\n```\n",
          "loc": [
            "[24](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L24)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Solidity version 0.8.20 or above may not work on other chains due to PUSH0",
      "description": "Solidity version 0.8.20 or above uses the new [Shanghai EVM](https://blog.soliditylang.org/2023/05/10/solidity-0.8.20-release-announcement/#important-note) which introduces the PUSH0 opcode. This op code may not yet be implemented on all evm-chains or Layer2s, so deployment on these chains will fail. Consider using an earlier solidity version.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}2: pragma solidity >=0.8.0;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L2)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}2: pragma solidity >=0.8.0;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L2)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Using `>`/`>=` without specifying an upper bound in version pragma is unsafe",
      "description": "There **will** be breaking changes in future versions of solidity, and at that point your code will no longer be compatible. While you may have the specific version to use in a configuration file, others that include your source files may not.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}2: pragma solidity >=0.8.0;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L2)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}2: pragma solidity >=0.8.0;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L2)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Tokens may be minted to the zero address",
      "description": "The target address is not checked in the mint function.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}47:     function mint(uint256 _amount) external {\n48:         CErc20Interface cNoteToken = CErc20Interface(cNote);\n49:         IERC20 note = IERC20(cNoteToken.underlying());\n50:         SafeERC20.safeTransferFrom(note, msg.sender, address(this), _amount);\n51:         SafeERC20.safeApprove(note, cNote, _amount);\n52:         uint256 returnCode = cNoteToken.mint(_amount);\n53:         // Mint returns 0 on success: https://docs.compound.finance/v2/ctokens/#mint\n54:         require(returnCode == 0, \"Error when minting\");\n55:         _mint(msg.sender, _amount);\n56:     }\n```\n",
          "loc": [
            "[47-56](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L47-L56)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Consider implementing two-step procedure for updating protocol addresses",
      "description": "A copy-paste error or a typo may end up bricking protocol functionality, or sending tokens to an address with no known private key. Consider implementing a two-step procedure for updating protocol addresses, where the recipient is set as pending, and must 'accept' the assignment by making an affirmative call. A straight forward way of doing this would be to have the target contracts implement [EIP-165](https://eips.ethereum.org/EIPS/eip-165), and to have the 'set' functions ensure that the recipient is of the right interface type.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}104:     function changeBondingCurveAllowed(address _bondingCurve, bool _newState) external onlyOwner {\n105:         require(whitelistedBondingCurves[_bondingCurve] != _newState, \"State already set\");\n106:         whitelistedBondingCurves[_bondingCurve] = _newState;\n107:         emit BondingCurveStateChange(_bondingCurve, _newState);\n108:     }\n\n309:     function changeShareCreatorWhitelist(address _address, bool _isWhitelisted) external onlyOwner {\n310:         require(whitelistedShareCreators[_address] != _isWhitelisted, \"State already set\");\n311:         whitelistedShareCreators[_address] = _isWhitelisted;\n312:     }\n```\n",
          "loc": [
            "[104-108](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L104-L108)",
            "[309-312](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L309-L312)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Vulnerable versions of packages are being used",
      "description": "This project is using specific package versions which are vulnerable to the specific CVEs listed below. Consider switching to more recent versions of these packages that don't have these vulnerabilities.\n- [CVE-2023-40014](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-40014) - **MEDIUM** - (`openzeppelin-solidity >=4.0.0 <4.9.3`): OpenZeppelin Contracts is a library for secure smart contract development. Starting in version 4.0.0 and prior to version 4.9.3, contracts using `ERC2771Context` along with a custom trusted forwarder may see `_msgSender` return `address(0)` in calls that originate from the forwarder with calldata shorter than 20 bytes. This combination of circumstances does not appear to be common, in particular it is not the case for `MinimalForwarder` from OpenZeppelin Contracts, or any deployed forwarder the team is aware of, given that the signer address is appended to all calls that originate from these forwarders. The problem has been patched in v4.9.3.\n\n- [CVE-2023-34459](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-34459) - **MEDIUM** - (`openzeppelin-solidity >=4.7.0 <4.9.2`): OpenZeppelin Contracts is a library for smart contract development. Starting in version 4.7.0 and prior to version 4.9.2, when the `verifyMultiProof`, `verifyMultiProofCalldata`, `procesprocessMultiProof`, or `processMultiProofCalldat` functions are in use, it is possible to construct merkle trees that allow forging a valid multiproof for an arbitrary set of leaves. A contract may be vulnerable if it uses multiproofs for verification and the merkle tree that is processed includes a node with value 0 at depth 1 (just under the root). This could happen inadvertedly for balanced trees with 3 leaves or less, if the leaves are not hashed. This could happen deliberately if a malicious tree builder includes such a node in the tree. A contract is not vulnerable if it uses single-leaf proving (`verify`, `verifyCalldata`, `processProof`, or `processProofCalldata`), or if it uses multiproofs with a known tree that has hashed leaves. Standard merkle trees produced or validated with the @openzeppelin/merkle-tree library are safe. The problem has been patched in version 4.9.2. Some workarounds are available. For those using multiproofs: When constructing merkle trees hash the leaves and do not insert empty nodes in your trees. Using the @openzeppelin/merkle-tree package eliminates this issue. Do not accept user-provided merkle roots without reconstructing at least the first level of the tree. Verify the merkle tree structure by reconstructing it from the leaves.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\n/// @audit Global finding.\n```\n",
          "loc": [
            "[0](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Missing checks for `address(0)` when setting address state variables",
      "description": "Consider adding a zero address check when setting address state variables.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}92:         token = IERC20(_paymentToken);\n```\n",
          "loc": [
            "[92](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L92)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}36:         cNote = _cNote;\n```\n",
          "loc": [
            "[36](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L36)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}25:         cNote = _cNote;\n```\n",
          "loc": [
            "[25](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L25)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Owner can renounce Ownership",
      "description": "Each of the following contracts implements or inherits the `renounceOwnership()` function. This can represent a certain risk if the ownership is renounced for any other reason than by design. Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}10: contract Market is ERC1155, Ownable2Step {\n11:     /*//////////////////////////////////////////////////////////////\n12:                                  CONSTANTS\n13:     //////////////////////////////////////////////////////////////*/\n```\n",
          "loc": [
            "[10-13](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L10-L13)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}11: contract asD is ERC20, Ownable2Step {\n12:     /*//////////////////////////////////////////////////////////////\n13:                                  STATE\n14:     //////////////////////////////////////////////////////////////*/\n```\n",
          "loc": [
            "[11-14](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L11-L14)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}8: contract asDFactory is Ownable2Step {\n9:     /*//////////////////////////////////////////////////////////////\n10:                                  STATE\n11:     //////////////////////////////////////////////////////////////*/\n```\n",
          "loc": [
            "[8-11](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L8-L11)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Constructor / initialization function lacks parameter validation",
      "description": "Constructors and initialization functions play a critical role in contracts by setting important initial states when the contract is first deployed before the system starts. The parameters passed to the constructor and initialization functions directly affect the behavior of the contract / protocol. If incorrect parameters are provided, the system may fail to run, behave abnormally, be unstable, or lack security. Therefore, it's crucial to carefully check each parameter in the constructor and initialization functions. If an exception is found, the transaction should be rolled back.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}/// @audit `_priceIncrease`\n10:     constructor(uint256 _priceIncrease) {\n```\n",
          "loc": [
            "[10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L10)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Contracts are vulnerable to fee-on-transfer accounting-related issues",
      "description": "Some tokens take a transfer fee (e.g. STA, PAXG), some do not currently charge a fee but may do so in the future (e.g. USDT, USDC).\nThe functions below transfer funds from the caller to the receiver via `transferFrom()`, but do not ensure that the actual number of tokens received is the same as the input amount to the transfer. If the token is a fee-on-transfer token, the balance after the transfer will be smaller than expected, leading to accounting issues. Even if there are checks later, related to a secondary transfer, an attacker may be able to use latent funds (e.g. mistakenly sent by another user) in order to get a free credit.\nOne way to solve this problem is to measure the balance before and after the transfer, and use the difference as the amount, rather than the stated amount.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}153:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), price + fee);\n\n166:             SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim);\n\n187:         SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim + price - fee);\n\n206:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), fee);\n\n217:             SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim);\n\n229:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), fee);\n\n238:         SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim);\n\n247:         SafeERC20.safeTransfer(token, msg.sender, amount);\n\n257:         SafeERC20.safeTransfer(token, msg.sender, amount);\n\n267:             SafeERC20.safeTransfer(token, msg.sender, amount);\n```\n",
          "loc": [
            "[153](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L153)",
            "[166](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L166)",
            "[187](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L187)",
            "[206](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L206)",
            "[217](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L217)",
            "[229](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L229)",
            "[238](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L238)",
            "[247](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L247)",
            "[257](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L257)",
            "[267](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L267)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}50:         SafeERC20.safeTransferFrom(note, msg.sender, address(this), _amount);\n\n66:         SafeERC20.safeTransfer(note, msg.sender, _amount);\n\n88:         SafeERC20.safeTransfer(note, msg.sender, _amount);\n```\n",
          "loc": [
            "[50](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L50)",
            "[66](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L66)",
            "[88](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L88)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Functions calling contracts/addresses with transfer hooks should be protected by reentrancy guard",
      "description": "Even if the function follows the best practice of check-effects-interaction, not using a reentrancy guard when there may be transfer hooks opens the users of this protocol up to [read-only reentrancy vulnerability](https://chainsecurity.com/curve-lp-oracle-manipulation-post-mortem/) with no way to protect them except by block-listing the entire protocol.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}153:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), price + fee);\n\n166:             SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim);\n\n187:         SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim + price - fee);\n\n206:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), fee);\n\n217:             SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim);\n\n229:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), fee);\n\n238:         SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim);\n\n247:         SafeERC20.safeTransfer(token, msg.sender, amount);\n\n257:         SafeERC20.safeTransfer(token, msg.sender, amount);\n\n267:             SafeERC20.safeTransfer(token, msg.sender, amount);\n```\n",
          "loc": [
            "[153](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L153)",
            "[166](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L166)",
            "[187](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L187)",
            "[206](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L206)",
            "[217](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L217)",
            "[229](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L229)",
            "[238](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L238)",
            "[247](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L247)",
            "[257](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L257)",
            "[267](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L267)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}50:         SafeERC20.safeTransferFrom(note, msg.sender, address(this), _amount);\n\n66:         SafeERC20.safeTransfer(note, msg.sender, _amount);\n\n88:         SafeERC20.safeTransfer(note, msg.sender, _amount);\n```\n",
          "loc": [
            "[50](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L50)",
            "[66](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L66)",
            "[88](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L88)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Critical functions should be controlled by time locks",
      "description": "It is a good practice to give time for users to react and adjust to critical changes. A timelock provides more guarantees and reduces the level of trust required, thus decreasing risk for users. It also indicates that the project is legitimate (less risk of a malicious owner making a sandwich attack on a user).",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}104:     function changeBondingCurveAllowed(address _bondingCurve, bool _newState) external onlyOwner {\n\n309:     function changeShareCreatorWhitelist(address _address, bool _isWhitelisted) external onlyOwner {\n```\n",
          "loc": [
            "[104](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L104)",
            "[309](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L309)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "The safeApprove() function is deprecated",
      "description": "The `safeApprove()` like function [is deprecated](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/bfff03c0d2a59bcd8e2ead1da9aed9edf0080d05/contracts/token/ERC20/utils/SafeERC20.sol#L38-L49).\nIt is encouraged to use `safeIncreaseAllowance()` and `safeDecreaseAllowance()` instead.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}51:         SafeERC20.safeApprove(note, cNote, _amount);\n```\n",
          "loc": [
            "[51](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L51)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Some tokens may revert when zero value transfers are made",
      "description": "Despite the fact that [EIP-20 states](https://github.com/ethereum/EIPs/blob/7500ac4fc1bbdfaf684e7ef851f798f6b667b2fe/EIPS/eip-20.md?plain=1#L116) that zero-value transfers must be accepted, some tokens, such as LEND, will revert if this is attempted, which may cause transactions that involve other tokens (such as batch operations) to fully revert. Consider skipping the transfer if the amount is zero, which will also save gas.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}153:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), price + fee);\n\n187:         SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim + price - fee);\n\n206:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), fee);\n\n229:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), fee);\n\n238:         SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim);\n\n247:         SafeERC20.safeTransfer(token, msg.sender, amount);\n\n257:         SafeERC20.safeTransfer(token, msg.sender, amount);\n```\n",
          "loc": [
            "[153](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L153)",
            "[187](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L187)",
            "[206](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L206)",
            "[229](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L229)",
            "[238](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L238)",
            "[247](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L247)",
            "[257](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L257)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}50:         SafeERC20.safeTransferFrom(note, msg.sender, address(this), _amount);\n\n66:         SafeERC20.safeTransfer(note, msg.sender, _amount);\n```\n",
          "loc": [
            "[50](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L50)",
            "[66](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L66)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Loss of precision in divisions",
      "description": "Division by large numbers may result in the result being zero, due to solidity not supporting fractions. Consider requiring a minimum amount for the numerator to ensure that it is always larger than the denominator.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}290:             shareData[_id].shareHolderRewardsPerTokenScaled += (shareHolderFee * 1e18) / _tokenCount;\n```\n",
          "loc": [
            "[290](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L290)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Code does not follow the best practice of check-effects-interaction",
      "description": "Code should follow the best-practice of [check-effects-interaction](https://blockchain-academy.hs-mittweida.de/courses/solidity-coding-beginners-to-intermediate/lessons/solidity-11-coding-patterns/topic/checks-effects-interactions/), where state variables are updated before any external calls are made. Doing so prevents a large class of reentrancy bugs.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit `safeTransferFrom()` is called on line 153\n159:         rewardsLastClaimedValue[_id][msg.sender] = shareData[_id].shareHolderRewardsPerTokenScaled;\n\n/// @audit `safeTransferFrom()` is called on line 153\n161:         shareData[_id].tokenCount += _amount;\n\n/// @audit `safeTransferFrom()` is called on line 153\n162:         shareData[_id].tokensInCirculation += _amount;\n\n/// @audit `safeTransferFrom()` is called on line 153\n163:         tokensByAddress[_id][msg.sender] += _amount;\n\n/// @audit `safeTransferFrom()` is called on line 206\n210:         rewardsLastClaimedValue[_id][msg.sender] = shareData[_id].shareHolderRewardsPerTokenScaled;\n\n/// @audit `safeTransferFrom()` is called on line 206\n211:         tokensByAddress[_id][msg.sender] -= _amount;\n\n/// @audit `safeTransferFrom()` is called on line 206\n212:         shareData[_id].tokensInCirculation -= _amount;\n\n/// @audit `safeTransferFrom()` is called on line 229\n233:         rewardsLastClaimedValue[_id][msg.sender] = shareData[_id].shareHolderRewardsPerTokenScaled;\n\n/// @audit `safeTransferFrom()` is called on line 229\n234:         tokensByAddress[_id][msg.sender] += _amount;\n\n/// @audit `safeTransferFrom()` is called on line 229\n235:         shareData[_id].tokensInCirculation += _amount;\n```\n",
          "loc": [
            "[211](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L211)",
            "[235](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L235)",
            "[234](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L234)",
            "[233](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L233)",
            "[212](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L212)",
            "[210](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L210)",
            "[163](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L163)",
            "[162](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L162)",
            "[161](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L161)",
            "[159](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L159)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Some tokens may revert when large transfers are made",
      "description": "Tokens such as COMP or UNI will revert when an address' balance reaches [`type(uint96).max`](https://github.com/compound-finance/compound-protocol/blob/a3214f67b73310d547e00fc578e8355911c9d376/contracts/Governance/Comp.sol#L238). Ensure that the calls below can be broken up into smaller batches if necessary.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}153:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), price + fee);\n\n166:             SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim);\n\n187:         SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim + price - fee);\n\n206:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), fee);\n\n217:             SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim);\n\n229:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), fee);\n\n238:         SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim);\n\n247:         SafeERC20.safeTransfer(token, msg.sender, amount);\n\n257:         SafeERC20.safeTransfer(token, msg.sender, amount);\n\n267:             SafeERC20.safeTransfer(token, msg.sender, amount);\n```\n",
          "loc": [
            "[166](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L166)",
            "[187](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L187)",
            "[206](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L206)",
            "[217](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L217)",
            "[229](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L229)",
            "[238](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L238)",
            "[247](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L247)",
            "[153](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L153)",
            "[257](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L257)",
            "[267](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L267)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}50:         SafeERC20.safeTransferFrom(note, msg.sender, address(this), _amount);\n\n66:         SafeERC20.safeTransfer(note, msg.sender, _amount);\n\n88:         SafeERC20.safeTransfer(note, msg.sender, _amount);\n```\n",
          "loc": [
            "[50](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L50)",
            "[66](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L66)",
            "[88](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L88)"
          ]
        }
      ]
    },
    {
      "severity": "Low",
      "title": "Contracts are vulnerable to rebasing accounting-related issues",
      "description": "Rebasing tokens are tokens that have each holder's `balanceof()` increase over time. Aave aTokens are an example of such tokens. If rebasing tokens are used, rewards accrue to the contract holding the tokens, and cannot be withdrawn by the original depositor. To address the issue, track 'shares' deposited on a pro-rata basis, and let shares be redeemed for their proportion of the current balance at the time of the withdrawal.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}150:     function buy(uint256 _id, uint256 _amount) external {\n\n174:     function sell(uint256 _id, uint256 _amount) external {\n\n203:     function mintNFT(uint256 _id, uint256 _amount) external {\n\n226:     function burnNFT(uint256 _id, uint256 _amount) external {\n\n244:     function claimPlatformFee() external onlyOwner {\n\n253:     function claimCreatorFee(uint256 _id) external {\n\n263:     function claimHolderFee(uint256 _id) external {\n```\n",
          "loc": [
            "[150](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L150)",
            "[174](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L174)",
            "[203](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L203)",
            "[226](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L226)",
            "[244](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L244)",
            "[253](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L253)",
            "[263](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L263)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}47:     function mint(uint256 _amount) external {\n\n60:     function burn(uint256 _amount) external {\n```\n",
          "loc": [
            "[47](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L47)",
            "[60](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L60)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "NatSpec documentation for contract is missing",
      "description": "e.g. `@dev` or `@notice`, and it must appear above the contract definition braces in order to be identified by the compiler as NatSpec.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}10: contract Market is ERC1155, Ownable2Step {\n```\n",
          "loc": [
            "[10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L10)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}6: contract LinearBondingCurve is IBondingCurve {\n```\n",
          "loc": [
            "[6](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L6)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}11: contract asD is ERC20, Ownable2Step {\n```\n",
          "loc": [
            "[11](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L11)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}8: contract asDFactory is Ownable2Step {\n```\n",
          "loc": [
            "[8](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L8)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Names of `private`/`internal` functions should be prefixed with an underscore",
      "description": "It is recommended by the [Solidity Style Guide](https://docs.soliditylang.org/en/v0.8.20/style-guide.html#underscore-prefix-for-non-external-functions-and-variables).",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}42:     function log2(uint256 x) internal pure returns (uint256 r) {\n```\n",
          "loc": [
            "[42](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L42)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Order of functions does not follow the Solidity Style Guide",
      "description": "According to the [Solidity Style Guide](https://docs.soliditylang.org/en/v0.8.20/style-guide.html#order-of-functions), functions should be grouped according to their visibility and ordered: `constructor`, `receive`, `fallback`, `external`, `public`, `internal`, `private`. Within a grouping, place the view and pure functions last.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit ↓↓ Out of order with `buy()`\n141:     function getSellPrice(uint256 _id, uint256 _amount) public view returns (uint256 price, uint256 fee) {\n\n/// @audit ↑↑ Out of order with `getSellPrice()`\n150:     function buy(uint256 _id, uint256 _amount) external {\n\n/// @audit ↑↑ Out of order with `buy()`\n174:     function sell(uint256 _id, uint256 _amount) external {\n\n/// @audit ↓↓ Out of order with `mintNFT()`\n194:     function getNFTMintingPrice(uint256 _id, uint256 _amount) public view returns (uint256 fee) {\n\n/// @audit ↑↑ Out of order with `getNFTMintingPrice()`\n203:     function mintNFT(uint256 _id, uint256 _amount) external {\n\n/// @audit ↑↑ Out of order with `mintNFT()`\n226:     function burnNFT(uint256 _id, uint256 _amount) external {\n\n/// @audit ↑↑ Out of order with `burnNFT()`\n244:     function claimPlatformFee() external onlyOwner {\n\n/// @audit ↑↑ Out of order with `claimPlatformFee()`\n253:     function claimCreatorFee(uint256 _id) external {\n\n/// @audit ↑↑ Out of order with `claimCreatorFee()`\n263:     function claimHolderFee(uint256 _id) external {\n\n/// @audit ↓↓ Out of order with `_splitFees()`\n272:     function _getRewardsSinceLastClaim(uint256 _id) internal view returns (uint256 amount) {\n\n/// @audit ↑↑ Out of order with `_getRewardsSinceLastClaim()`\n280:     function _splitFees(\n281:         uint256 _id,\n282:         uint256 _fee,\n283:         uint256 _tokenCount\n284:     ) internal {\n\n/// @audit ↑↑ Out of order with `_splitFees()`\n300:     function restrictShareCreation(bool _isRestricted) external onlyOwner {\n\n/// @audit ↑↑ Out of order with `restrictShareCreation()`\n309:     function changeShareCreatorWhitelist(address _address, bool _isWhitelisted) external onlyOwner {\n```\n",
          "loc": [
            "[253](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L253)",
            "[141](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L141)",
            "[150](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L150)",
            "[174](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L174)",
            "[194](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L194)",
            "[203](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L203)",
            "[226](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L226)",
            "[244](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L244)",
            "[263](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L263)",
            "[272](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L272)",
            "[280-284](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L280-L284)",
            "[300](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L300)",
            "[309](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L309)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Use of `override` is unnecessary",
      "description": "[Starting from Solidity 0.8.8](https://docs.soliditylang.org/en/v0.8.20/contracts.html#function-overriding), the override keyword is not required when overriding an interface function, except for the case where the function is defined in multiple bases.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}14:     function getPriceAndFee(uint256 shareCount, uint256 amount)\n15:         external\n16:         view\n17:         override\n18:         returns (uint256 price, uint256 fee)\n\n27:     function getFee(uint256 shareCount) public pure override returns (uint256) {\n```\n",
          "loc": [
            "[14-18](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L14-L18)",
            "[27](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L27)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Custom errors should be used rather than `revert()`/`require()`",
      "description": "Custom errors are available from solidity version 0.8.4. Custom errors are more easily processed in try-catch blocks, and are easier to re-use and maintain.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}81:         require(\n82:             !shareCreationRestricted || whitelistedShareCreators[msg.sender] || msg.sender == owner(),\n83:             \"Not allowed\"\n84:         );\n\n105:         require(whitelistedBondingCurves[_bondingCurve] != _newState, \"State already set\");\n\n119:         require(whitelistedBondingCurves[_bondingCurve], \"Bonding curve not whitelisted\");\n\n120:         require(shareIDs[_shareName] == 0, \"Share already exists\");\n\n151:         require(shareData[_id].creator != msg.sender, \"Creator cannot buy\");\n\n254:         require(shareData[_id].creator == msg.sender, \"Not creator\");\n\n301:         require(shareCreationRestricted != _isRestricted, \"State already set\");\n\n310:         require(whitelistedShareCreators[_address] != _isWhitelisted, \"State already set\");\n```\n",
          "loc": [
            "[81-84](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L81-L84)",
            "[105](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L105)",
            "[119](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L119)",
            "[120](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L120)",
            "[151](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L151)",
            "[254](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L254)",
            "[301](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L301)",
            "[310](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L310)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}54:         require(returnCode == 0, \"Error when minting\");\n\n64:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem-underlying\n\n81:             require(_amount <= maximumWithdrawable, \"Too many tokens requested\");\n\n86:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem\n```\n",
          "loc": [
            "[54](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L54)",
            "[64](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L64)",
            "[81](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L81)",
            "[86](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L86)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Large numeric literals should use underscores for readability",
      "description": "Large hardcoded numbers in code can be difficult to read. Consider using underscores for number literals to improve readability (e.g `1234567` -> `1_234_567`). Consider using an underscore for every third digit from the right.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}93:         if (block.chainid == 7700 || block.chainid == 7701) {\n\n93:         if (block.chainid == 7700 || block.chainid == 7701) {\n```\n",
          "loc": [
            "[93](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L93)",
            "[93](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L93)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}37:         if (block.chainid == 7700 || block.chainid == 7701) {\n\n37:         if (block.chainid == 7700 || block.chainid == 7701) {\n```\n",
          "loc": [
            "[37](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L37)",
            "[37](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L37)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}26:         if (block.chainid == 7700 || block.chainid == 7701) {\n\n26:         if (block.chainid == 7700 || block.chainid == 7701) {\n```\n",
          "loc": [
            "[26](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L26)",
            "[26](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L26)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Assembly blocks should have extensive comments",
      "description": "Assembly blocks take a lot more time to audit than normal Solidity code, and often have gotchas and side-effects that the Solidity versions of the same code do not. Consider adding more comments explaining what is being done in every step of the assembly code, and describe why assembly is being used instead of Solidity.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}44:         assembly {\n```\n",
          "loc": [
            "[44](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L44)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Simplify complex require statements",
      "description": "Simplifying complex `require` statements with local variables and `if`(or `revert`) statements can improve readability, make debugging easier, and promote modularity and reusability in the code.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}81:         require(\n82:             !shareCreationRestricted || whitelistedShareCreators[msg.sender] || msg.sender == owner(),\n83:             \"Not allowed\"\n84:         );\n```\n",
          "loc": [
            "[81-84](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L81-L84)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Consider moving `msg.sender` checks to `modifier`s",
      "description": "If some functions are only allowed to be called by some specific users, consider using a modifier instead of checking with a require statement, especially if this check is done in multiple functions.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}151:         require(shareData[_id].creator != msg.sender, \"Creator cannot buy\");\n\n254:         require(shareData[_id].creator == msg.sender, \"Not creator\");\n```\n",
          "loc": [
            "[151](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L151)",
            "[254](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L254)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Consider adding a block/deny-list",
      "description": "Doing so will significantly increase centralization, but will help to prevent hackers from using stolen tokens",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}10: contract Market is ERC1155, Ownable2Step {\n```\n",
          "loc": [
            "[10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L10)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}11: contract asD is ERC20, Ownable2Step {\n```\n",
          "loc": [
            "[11](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L11)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Constants/Immutables redefined elsewhere",
      "description": "Consider defining in only one contract so that values cannot become out of sync when only one location is updated. A [cheap way](https://medium.com/coinmonks/gas-cost-of-solidity-library-functions-dbe0cedd4678) to store constants/immutables in a single location is to create an `internal constant` in a `library`. If the variable is a local cache of another contract's value, consider making the cache variable internal or private, which will require external users to query the contract with the source of truth, so that callers don't get out of sync.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}/// @audit Seen in asD/src/asDFactory.sol#12\n15:     address public immutable cNote; // Reference to the cNOTE token\n```\n",
          "loc": [
            "[15](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L15)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}/// @audit Seen in asD/src/asD.sol#15\n12:     address public immutable cNote;\n```\n",
          "loc": [
            "[12](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L12)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Convert simple `if`-statements to ternary expressions",
      "description": "Converting some if statements to ternaries (such as `z = (a < b) ? x : y`) can make the code more concise and easier to read.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}29:         if (shareCount > 1) {\n30:             divisor = log2(shareCount);\n31:         } else {\n32:             divisor = 1;\n33:         }\n```\n",
          "loc": [
            "[29-33](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L29-L33)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Events should be emitted before external calls",
      "description": "Ensure that events follow the best practice of check-effects-interaction, and are emitted before external calls.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit `safeTransferFrom()` is called on line 153\n168:         emit SharesBought(_id, msg.sender, _amount, price, fee);\n\n/// @audit `safeTransfer()` is called on line 187\n188:         emit SharesSold(_id, msg.sender, _amount, price, fee);\n\n/// @audit `safeTransferFrom()` is called on line 206\n220:         emit NFTsCreated(_id, msg.sender, _amount, fee);\n\n/// @audit `safeTransferFrom()` is called on line 229\n240:         emit NFTsBurned(_id, msg.sender, _amount, fee);\n\n/// @audit `safeTransfer()` is called on line 247\n248:         emit PlatformFeeClaimed(msg.sender, amount);\n\n/// @audit `safeTransfer()` is called on line 257\n258:         emit CreatorFeeClaimed(msg.sender, _id, amount);\n\n/// @audit `safeTransfer()` is called on line 267\n269:         emit HolderFeeClaimed(msg.sender, _id, amount);\n```\n",
          "loc": [
            "[188](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L188)",
            "[168](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L168)",
            "[220](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L220)",
            "[240](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L240)",
            "[248](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L248)",
            "[258](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L258)",
            "[269](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L269)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}/// @audit `exchangeRateCurrent()` is called on line 73\n89:         emit CarryWithdrawal(_amount);\n```\n",
          "loc": [
            "[89](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L89)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Events are emitted without the sender information",
      "description": "When an action is triggered based on a user's action, not being able to filter based on who triggered the action makes event processing a lot more cumbersome. Including the `msg.sender` the events of these types of action will make events much more useful to end users, especially when `msg.sender` is not `tx.origin`.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}107:         emit BondingCurveStateChange(_bondingCurve, _newState);\n\n303:         emit ShareCreationRestricted(_isRestricted);\n```\n",
          "loc": [
            "[107](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L107)",
            "[303](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L303)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}89:         emit CarryWithdrawal(_amount);\n```\n",
          "loc": [
            "[89](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L89)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Event is missing `indexed` fields",
      "description": "Index event fields makes the field more quickly accessible to [off-chain tools](https://ethereum.stackexchange.com/questions/40396/can-somebody-please-explain-the-concept-of-event-indexing) that parse events. However, note that each indexed field costs extra gas during emission, so it's not necessarily best to index the maximum allowed per event (three fields). Each event should use three indexed fields if there are three or more fields, and gas usage is not particularly of concern for the events in question. If there are fewer than three fields, all of the fields should be indexed.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}69:     event BondingCurveStateChange(address indexed curve, bool isWhitelisted);\n\n78:     event ShareCreationRestricted(bool isRestricted);\n```\n",
          "loc": [
            "[69](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L69)",
            "[78](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L78)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}20:     event CreatedToken(address token, string symbol, string name, address creator);\n```\n",
          "loc": [
            "[20](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L20)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Imports could be organized more systematically",
      "description": "The contract's interface should be imported first, followed by each of the interfaces it uses, followed by all other files. The examples below do not follow this layout.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit Out of order with the prev import️ ⬆\n5: import {SafeERC20, IERC20} from \"@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol\";\n\n/// @audit Out of order with the prev import️ ⬆\n7: import {IBondingCurve} from \"../interface/IBondingCurve.sol\";\n```\n",
          "loc": [
            "[5](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L5)",
            "[7](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L7)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}/// @audit Out of order with the prev import️ ⬆\n6: import {CTokenInterface, CErc20Interface} from \"../interface/clm/CTokenInterfaces.sol\";\n\n/// @audit Out of order with the prev import️ ⬆\n8: import {IERC20, ERC20} from \"@openzeppelin/contracts/token/ERC20/ERC20.sol\";\n```\n",
          "loc": [
            "[6](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L6)",
            "[8](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L8)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "@openzeppelin/contracts should be upgraded to a newer version",
      "description": "These contracts import contracts from `@openzeppelin/contracts`, but they are not using [the latest version](https://github.com/OpenZeppelin/openzeppelin-contracts/releases).\n\nThe imported version is `4.9.0`.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}4: import {ERC1155} from \"@openzeppelin/contracts/token/ERC1155/ERC1155.sol\";\n\n4: import {ERC1155} from \"@openzeppelin/contracts/token/ERC1155/ERC1155.sol\";\n```\n",
          "loc": [
            "[4](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L4)",
            "[4](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L4)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}7: import {Ownable2Step} from \"@openzeppelin/contracts/access/Ownable2Step.sol\";\n\n7: import {Ownable2Step} from \"@openzeppelin/contracts/access/Ownable2Step.sol\";\n```\n",
          "loc": [
            "[7](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L7)",
            "[7](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L7)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}5: import {Ownable2Step} from \"@openzeppelin/contracts/access/Ownable2Step.sol\";\n\n5: import {Ownable2Step} from \"@openzeppelin/contracts/access/Ownable2Step.sol\";\n```\n",
          "loc": [
            "[5](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L5)",
            "[5](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L5)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Lines are too long",
      "description": "The [solidity style guide](https://docs.soliditylang.org/en/v0.8.17/style-guide.html#maximum-line-length) recommends a maximum line length of 120 characters. Lines of code that are longer than 120 should be wrapped.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}34:         uint256 tokensInCirculation; // Number of outstanding tokens - tokens that are minted as NFT, i.e. the number of tokens that receive fees\n\n35:         uint256 shareHolderRewardsPerTokenScaled; // Accrued funds for the share holder per token, multiplied by 1e18 to avoid precision loss\n\n155:         // The rewardsLastClaimedValue then needs to be updated with the new value such that the user cannot claim fees of this buy\n\n231:         // The user does not get the proportional rewards for the burning (unless they have additional tokens that are not in the NFT)\n```\n",
          "loc": [
            "[155](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L155)",
            "[34](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L34)",
            "[35](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L35)",
            "[231](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L231)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}64:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem-underlying\n\n71:     /// @dev The function checks that the owner does not withdraw too much NOTE, i.e. that a 1:1 NOTE:asD exchange rate can be maintained after the withdrawal\n\n73:         uint256 exchangeRate = CTokenInterface(cNote).exchangeRateCurrent(); // Scaled by 1 * 10^(18 - 8 + Underlying Token Decimals), i.e. 10^(28) in our case\n\n74:         // The amount of cNOTE the contract has to hold (based on the current exchange rate which is always increasing) such that it is always possible to receive 1 NOTE when burning 1 asD\n\n84:         // But we do not handle this case specifically, as the only consequence is that the owner wastes a bit of gas when there is nothing to withdraw\n\n86:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem\n```\n",
          "loc": [
            "[86](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L86)",
            "[64](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L64)",
            "[71](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L71)",
            "[73](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L73)",
            "[74](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L74)",
            "[84](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L84)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}14:     /// @notice Stores the addresses of all created tokens, allowing third-party contracts to check if an address is a legit token\n```\n",
          "loc": [
            "[14](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L14)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Magic numbers should be replaced with constants",
      "description": "Magic numbers are hard-coded values in code that can make it difficult for developers and maintainers to understand the code, and can also cause confusion or errors. To improve the readability and maintainability of code, it is recommended to replace magic numbers with constants that have good readability.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit 7700\n/// @audit 7701\n93:         if (block.chainid == 7700 || block.chainid == 7701) {\n\n/// @audit 0xEcf044C5B4b867CFda001101c617eCd347095B44\n95:             Turnstile turnstile = Turnstile(0xEcf044C5B4b867CFda001101c617eCd347095B44);\n\n/// @audit 10_000\n197:         fee = (priceForOne * _amount * NFT_FEE_BPS) / 10_000;\n\n/// @audit 1e18\n276:             1e18;\n\n/// @audit 10_000\n285:         uint256 shareHolderFee = (_fee * HOLDER_CUT_BPS) / 10_000;\n\n/// @audit 10_000\n286:         uint256 shareCreatorFee = (_fee * CREATOR_CUT_BPS) / 10_000;\n\n/// @audit 1e18\n290:             shareData[_id].shareHolderRewardsPerTokenScaled += (shareHolderFee * 1e18) / _tokenCount;\n```\n",
          "loc": [
            "[286](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L286)",
            "[93](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L93)",
            "[95](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L95)",
            "[197](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L197)",
            "[276](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L276)",
            "[285](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L285)",
            "[290](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L290)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}/// @audit 1e18\n23:             fee += (getFee(i) * tokenPrice) / 1e18;\n\n/// @audit 1e17\n35:         return 1e17 / divisor;\n```\n",
          "loc": [
            "[23](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L23)",
            "[35](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L35)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}/// @audit 7700\n/// @audit 7701\n37:         if (block.chainid == 7700 || block.chainid == 7701) {\n\n/// @audit 0xEcf044C5B4b867CFda001101c617eCd347095B44\n39:             Turnstile turnstile = Turnstile(0xEcf044C5B4b867CFda001101c617eCd347095B44);\n\n/// @audit 1e28\n76:             1e28 -\n```\n",
          "loc": [
            "[37](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L37)",
            "[39](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L39)",
            "[76](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L76)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}/// @audit 7700\n/// @audit 7701\n26:         if (block.chainid == 7700 || block.chainid == 7701) {\n\n/// @audit 0xEcf044C5B4b867CFda001101c617eCd347095B44\n28:             Turnstile turnstile = Turnstile(0xEcf044C5B4b867CFda001101c617eCd347095B44);\n```\n",
          "loc": [
            "[26](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L26)",
            "[28](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L28)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Memory-safe annotation preferred over comment variant",
      "description": "The memory-safe annotation (`assembly (\"memory-safe\") { ... }`) is preferred over the comment variant, which will be removed in a future breaking [release](https://docs.soliditylang.org/en/v0.8.13/assembly.html#memory-safety).",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}43:         /// @solidity memory-safe-assembly\n```\n",
          "loc": [
            "[43](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L43)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Use `@inheritdoc` for overridden functions",
      "description": "It is recommended to use `@inheritdoc` for overridden functions.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}14:     function getPriceAndFee(uint256 shareCount, uint256 amount)\n15:         external\n16:         view\n17:         override\n18:         returns (uint256 price, uint256 fee)\n\n27:     function getFee(uint256 shareCount) public pure override returns (uint256) {\n```\n",
          "loc": [
            "[14-18](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L14-L18)",
            "[27](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L27)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Contracts should have NatSpec `@author` tags",
      "description": "Contracts should have NatSpec `@author` tags",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}10: contract Market is ERC1155, Ownable2Step {\n```\n",
          "loc": [
            "[10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L10)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}6: contract LinearBondingCurve is IBondingCurve {\n```\n",
          "loc": [
            "[6](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L6)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}11: contract asD is ERC20, Ownable2Step {\n```\n",
          "loc": [
            "[11](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L11)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}8: contract asDFactory is Ownable2Step {\n```\n",
          "loc": [
            "[8](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L8)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Contracts should have `@notice` tags",
      "description": "The `@notice` is used to explain to users what the contract does. The compiler interprets `///` or `/**` comments [as this tag](https://docs.soliditylang.org/en/latest/natspec-format.html#tags) if one wasn't explicitly provided.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}10: contract Market is ERC1155, Ownable2Step {\n```\n",
          "loc": [
            "[10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L10)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}6: contract LinearBondingCurve is IBondingCurve {\n```\n",
          "loc": [
            "[6](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L6)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}11: contract asD is ERC20, Ownable2Step {\n```\n",
          "loc": [
            "[11](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L11)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}8: contract asDFactory is Ownable2Step {\n```\n",
          "loc": [
            "[8](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L8)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Contracts should have NatSpec `@title` tags",
      "description": "Some contract definitions have an incomplete NatSpec: add a `@title` notation to describe the contract to improve the code documentation.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}10: contract Market is ERC1155, Ownable2Step {\n```\n",
          "loc": [
            "[10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L10)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}6: contract LinearBondingCurve is IBondingCurve {\n```\n",
          "loc": [
            "[6](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L6)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}11: contract asD is ERC20, Ownable2Step {\n```\n",
          "loc": [
            "[11](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L11)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}8: contract asDFactory is Ownable2Step {\n```\n",
          "loc": [
            "[8](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L8)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Events missing NatSpec `@param` tag",
      "description": "Each modifier parameter should have a `@param` notation to improve the code documentation.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit Missing @param for `curve`, `isWhitelisted`\n69:     event BondingCurveStateChange(address indexed curve, bool isWhitelisted);\n\n/// @audit Missing @param for `id`, `name`, `bondingCurve`, `creator`\n70:     event ShareCreated(uint256 indexed id, string name, address indexed bondingCurve, address indexed creator);\n\n/// @audit Missing @param for `id`, `buyer`, `amount`, `price`, `fee`\n71:     event SharesBought(uint256 indexed id, address indexed buyer, uint256 amount, uint256 price, uint256 fee);\n\n/// @audit Missing @param for `id`, `seller`, `amount`, `price`, `fee`\n72:     event SharesSold(uint256 indexed id, address indexed seller, uint256 amount, uint256 price, uint256 fee);\n\n/// @audit Missing @param for `id`, `creator`, `amount`, `fee`\n73:     event NFTsCreated(uint256 indexed id, address indexed creator, uint256 amount, uint256 fee);\n\n/// @audit Missing @param for `id`, `burner`, `amount`, `fee`\n74:     event NFTsBurned(uint256 indexed id, address indexed burner, uint256 amount, uint256 fee);\n\n/// @audit Missing @param for `claimer`, `amount`\n75:     event PlatformFeeClaimed(address indexed claimer, uint256 amount);\n\n/// @audit Missing @param for `claimer`, `id`, `amount`\n76:     event CreatorFeeClaimed(address indexed claimer, uint256 indexed id, uint256 amount);\n\n/// @audit Missing @param for `claimer`, `id`, `amount`\n77:     event HolderFeeClaimed(address indexed claimer, uint256 indexed id, uint256 amount);\n\n/// @audit Missing @param for `isRestricted`\n78:     event ShareCreationRestricted(bool isRestricted);\n```\n",
          "loc": [
            "[77](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L77)",
            "[76](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L76)",
            "[75](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L75)",
            "[74](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L74)",
            "[78](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L78)",
            "[72](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L72)",
            "[73](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L73)",
            "[69](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L69)",
            "[70](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L70)",
            "[71](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L71)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}/// @audit Missing @param for `amount`\n20:     event CarryWithdrawal(uint256 amount);\n```\n",
          "loc": [
            "[20](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L20)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}/// @audit Missing @param for `token`, `symbol`, `name`, `creator`\n20:     event CreatedToken(address token, string symbol, string name, address creator);\n```\n",
          "loc": [
            "[20](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L20)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Event declarations should have NatSpec descriptions",
      "description": "Event declarations should have NatSpec descriptions",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}69:     event BondingCurveStateChange(address indexed curve, bool isWhitelisted);\n\n70:     event ShareCreated(uint256 indexed id, string name, address indexed bondingCurve, address indexed creator);\n\n71:     event SharesBought(uint256 indexed id, address indexed buyer, uint256 amount, uint256 price, uint256 fee);\n\n72:     event SharesSold(uint256 indexed id, address indexed seller, uint256 amount, uint256 price, uint256 fee);\n\n73:     event NFTsCreated(uint256 indexed id, address indexed creator, uint256 amount, uint256 fee);\n\n74:     event NFTsBurned(uint256 indexed id, address indexed burner, uint256 amount, uint256 fee);\n\n75:     event PlatformFeeClaimed(address indexed claimer, uint256 amount);\n\n76:     event CreatorFeeClaimed(address indexed claimer, uint256 indexed id, uint256 amount);\n\n77:     event HolderFeeClaimed(address indexed claimer, uint256 indexed id, uint256 amount);\n\n78:     event ShareCreationRestricted(bool isRestricted);\n```\n",
          "loc": [
            "[74](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L74)",
            "[69](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L69)",
            "[70](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L70)",
            "[71](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L71)",
            "[72](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L72)",
            "[73](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L73)",
            "[75](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L75)",
            "[76](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L76)",
            "[77](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L77)",
            "[78](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L78)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}20:     event CarryWithdrawal(uint256 amount);\n```\n",
          "loc": [
            "[20](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L20)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}20:     event CreatedToken(address token, string symbol, string name, address creator);\n```\n",
          "loc": [
            "[20](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L20)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Functions missing NatSpec `@param` tag",
      "description": "Each function parameter should have a `@param` notation to improve the code documentation.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit Missing @param for `_id`\n272:     function _getRewardsSinceLastClaim(uint256 _id) internal view returns (uint256 amount) {\n\n/// @audit Missing @param for `_id`, `_fee`, `_tokenCount`\n280:     function _splitFees(\n281:         uint256 _id,\n282:         uint256 _fee,\n283:         uint256 _tokenCount\n284:     ) internal {\n```\n",
          "loc": [
            "[272](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L272)",
            "[280-284](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L280-L284)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}/// @audit Missing @param for `_priceIncrease`\n10:     constructor(uint256 _priceIncrease) {\n\n/// @audit Missing @param for `shareCount`, `amount`\n14:     function getPriceAndFee(uint256 shareCount, uint256 amount)\n\n/// @audit Missing @param for `shareCount`\n27:     function getFee(uint256 shareCount) public pure override returns (uint256) {\n\n/// @audit Missing @param for `x`\n42:     function log2(uint256 x) internal pure returns (uint256 r) {\n```\n",
          "loc": [
            "[42](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L42)",
            "[27](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L27)",
            "[10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L10)",
            "[14](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L14)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}/// @audit Missing @param for `_name`, `_symbol`\n33:     function create(string memory _name, string memory _symbol) external returns (address) {\n```\n",
          "loc": [
            "[33](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L33)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "NatSpec documentation for function is missing",
      "description": "It is recommended that Solidity contracts are fully annotated using NatSpec for all public interfaces (everything in the ABI). It is clearly stated in the Solidity official documentation.\nIn complex projects such as DeFi, the interpretation of all functions and their arguments and returns is important for code readability and auditability.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}272:     function _getRewardsSinceLastClaim(uint256 _id) internal view returns (uint256 amount) {\n```\n",
          "loc": [
            "[272](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L272)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}10:     constructor(uint256 _priceIncrease) {\n\n14:     function getPriceAndFee(uint256 shareCount, uint256 amount)\n\n27:     function getFee(uint256 shareCount) public pure override returns (uint256) {\n```\n",
          "loc": [
            "[10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L10)",
            "[14](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L14)",
            "[27](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L27)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}33:     function create(string memory _name, string memory _symbol) external returns (address) {\n```\n",
          "loc": [
            "[33](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L33)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Functions missing NatSpec `@return` tag",
      "description": "Functions missing NatSpec `@return` tag",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}114:     function createNewShare(\n115:         string memory _shareName,\n116:         address _bondingCurve,\n117:         string memory _metadataURI\n118:     ) external onlyShareCreator returns (uint256 id) {\n\n132:     function getBuyPrice(uint256 _id, uint256 _amount) public view returns (uint256 price, uint256 fee) {\n\n141:     function getSellPrice(uint256 _id, uint256 _amount) public view returns (uint256 price, uint256 fee) {\n\n194:     function getNFTMintingPrice(uint256 _id, uint256 _amount) public view returns (uint256 fee) {\n\n272:     function _getRewardsSinceLastClaim(uint256 _id) internal view returns (uint256 amount) {\n```\n",
          "loc": [
            "[114-118](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L114-L118)",
            "[272](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L272)",
            "[194](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L194)",
            "[141](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L141)",
            "[132](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L132)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}14:     function getPriceAndFee(uint256 shareCount, uint256 amount)\n15:         external\n16:         view\n17:         override\n18:         returns (uint256 price, uint256 fee)\n\n27:     function getFee(uint256 shareCount) public pure override returns (uint256) {\n\n42:     function log2(uint256 x) internal pure returns (uint256 r) {\n```\n",
          "loc": [
            "[27](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L27)",
            "[42](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L42)",
            "[14-18](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L14-L18)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}33:     function create(string memory _name, string memory _symbol) external returns (address) {\n```\n",
          "loc": [
            "[33](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L33)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "State variables should have NatSpec descriptions",
      "description": "It is [recommended](https://docs.soliditylang.org/en/v0.8.20/natspec-format.html#tags) to use the NatSpec tags `@notice`, `@dev`, `@return`, `@inheritdoc` for public state variables, and `@dev` for non-public state variables.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}14:     uint256 public constant NFT_FEE_BPS = 1_000; // 10%\n\n15:     uint256 public constant HOLDER_CUT_BPS = 3_300; // 33%\n\n16:     uint256 public constant CREATOR_CUT_BPS = 3_300; // 33%\n```\n",
          "loc": [
            "[14](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L14)",
            "[16](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L16)",
            "[15](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L15)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}8:     uint256 public immutable priceIncrease;\n```\n",
          "loc": [
            "[8](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L8)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}15:     address public immutable cNote; // Reference to the cNOTE token\n```\n",
          "loc": [
            "[15](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L15)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}12:     address public immutable cNote;\n```\n",
          "loc": [
            "[12](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L12)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Contract name does not follow the Solidity Style Guide",
      "description": "According to the [Solidity Style Guide](https://docs.soliditylang.org/en/latest/style-guide.html#contract-and-library-names), contracts and libraries should be named using the CapWords style.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}11: contract asD is ERC20, Ownable2Step {\n```\n",
          "loc": [
            "[11](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L11)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}8: contract asDFactory is Ownable2Step {\n```\n",
          "loc": [
            "[8](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L8)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Functions should be named in mixedCase style",
      "description": "As the [Solidity Style Guide](https://docs.soliditylang.org/en/v0.8.21/style-guide.html#function-names) suggests: functions should be named in mixedCase style.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}194:     function getNFTMintingPrice(uint256 _id, uint256 _amount) public view returns (uint256 fee) {\n\n203:     function mintNFT(uint256 _id, uint256 _amount) external {\n\n226:     function burnNFT(uint256 _id, uint256 _amount) external {\n```\n",
          "loc": [
            "[194](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L194)",
            "[226](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L226)",
            "[203](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L203)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Variable names for `immutable`s should use UPPER_CASE_WITH_UNDERSCORES",
      "description": "For `immutable` variable names, each word should use all capital letters, with underscores separating each word (UPPER_CASE_WITH_UNDERSCORES)",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}20:     IERC20 public immutable token;\n```\n",
          "loc": [
            "[20](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L20)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}8:     uint256 public immutable priceIncrease;\n```\n",
          "loc": [
            "[8](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L8)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}15:     address public immutable cNote; // Reference to the cNOTE token\n```\n",
          "loc": [
            "[15](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L15)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}12:     address public immutable cNote;\n```\n",
          "loc": [
            "[12](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L12)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Missing zero address check in functions with address parameters",
      "description": "Adding a zero address check for each address type parameter can prevent errors.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit `_bondingCurve not checked`\n104:     function changeBondingCurveAllowed(address _bondingCurve, bool _newState) external onlyOwner {\n\n/// @audit `_bondingCurve not checked`\n114:     function createNewShare(\n115:         string memory _shareName,\n116:         address _bondingCurve,\n117:         string memory _metadataURI\n118:     ) external onlyShareCreator returns (uint256 id) {\n\n/// @audit `_address not checked`\n309:     function changeShareCreatorWhitelist(address _address, bool _isWhitelisted) external onlyOwner {\n```\n",
          "loc": [
            "[309](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L309)",
            "[114-118](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L114-L118)",
            "[104](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L104)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Constants should be put on the left side of comparisons",
      "description": "Putting constants on the left side of comparison statements is a best practice known as [Yoda conditions](https://en.wikipedia.org/wiki/Yoda_conditions).\nAlthough solidity's static typing system prevents accidental assignments within conditionals, adopting this practice can improve code readability and consistency, especially when working across multiple languages.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit put `7700` on the left\n93:         if (block.chainid == 7700 || block.chainid == 7701) {\n\n/// @audit put `7701` on the left\n93:         if (block.chainid == 7700 || block.chainid == 7701) {\n\n/// @audit put `0` on the left\n120:         require(shareIDs[_shareName] == 0, \"Share already exists\");\n```\n",
          "loc": [
            "[120](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L120)",
            "[93](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L93)",
            "[93](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L93)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}/// @audit put `7700` on the left\n37:         if (block.chainid == 7700 || block.chainid == 7701) {\n\n/// @audit put `7701` on the left\n37:         if (block.chainid == 7700 || block.chainid == 7701) {\n\n/// @audit put `0` on the left\n54:         require(returnCode == 0, \"Error when minting\");\n\n/// @audit put `0` on the left\n64:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem-underlying\n\n/// @audit put `0` on the left\n78:         if (_amount == 0) {\n\n/// @audit put `0` on the left\n86:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem\n```\n",
          "loc": [
            "[78](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L78)",
            "[37](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L37)",
            "[37](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L37)",
            "[54](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L54)",
            "[64](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L64)",
            "[86](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L86)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}/// @audit put `7700` on the left\n26:         if (block.chainid == 7700 || block.chainid == 7701) {\n\n/// @audit put `7701` on the left\n26:         if (block.chainid == 7700 || block.chainid == 7701) {\n```\n",
          "loc": [
            "[26](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L26)",
            "[26](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L26)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Large multiples of ten should use scientific notation",
      "description": "Use a scientific notation rather than decimal literals (e.g. `1e6` instead of `1000000`), for better code readability.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit 1_000 -> 1e3\n14:     uint256 public constant NFT_FEE_BPS = 1_000; // 10%\n\n/// @audit 10_000 -> 1e4\n197:         fee = (priceForOne * _amount * NFT_FEE_BPS) / 10_000;\n\n/// @audit 10_000 -> 1e4\n285:         uint256 shareHolderFee = (_fee * HOLDER_CUT_BPS) / 10_000;\n\n/// @audit 10_000 -> 1e4\n286:         uint256 shareCreatorFee = (_fee * CREATOR_CUT_BPS) / 10_000;\n```\n",
          "loc": [
            "[286](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L286)",
            "[14](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L14)",
            "[197](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L197)",
            "[285](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L285)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Non-interface files should use fixed compiler versions",
      "description": "To prevent the actual contracts being deployed from behaving differently depending on the compiler version, it is recommended to use fixed solidity versions for contracts and libraries.\n\nAlthough we can configure a specific version through config (like hardhat, forge config files), it is recommended to **set the fixed version in the solidity pragma directly** before deploying to the mainnet.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}2: pragma solidity >=0.8.0;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L2)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}2: pragma solidity >=0.8.0;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L2)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Unused contract variables",
      "description": "The following state variables are defined but not used.\nIt is recommended to check the code for logical omissions that cause them not to be used. If it's determined that they are not needed anywhere, it's best to remove them from the codebase to improve code clarity and minimize confusion.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}46:     mapping(uint256 => address) public shareBondingCurves;\n```\n",
          "loc": [
            "[46](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L46)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Unused import",
      "description": "The identifier is imported but never used within the file.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}/// @audit IasDFactory\n5: import {IasDFactory} from \"../interface/IasDFactory.sol\";\n```\n",
          "loc": [
            "[5](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L5)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Consider using `delete` rather than assigning zero to clear values",
      "description": "The `delete` keyword more closely matches the semantics of what is being done, and draws more attention to the changing of state, which may lead to a more thorough audit of its associated logic.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}246:         platformPool = 0;\n\n256:         shareData[_id].shareCreatorPool = 0;\n```\n",
          "loc": [
            "[246](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L246)",
            "[256](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L256)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Use the latest Solidity version",
      "description": "Upgrading to the [latest solidity version](https://github.com/ethereum/solc-js/tags) (0.8.19 for L2s) can optimize gas usage, take advantage of new features and improve overall contract efficiency. Where possible, based on compatibility requirements, it is recommended to use newer/latest solidity version to take advantage of the latest optimizations and features.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}2: pragma solidity 0.8.19;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L2)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}2: pragma solidity 0.8.19;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L2)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}2: pragma solidity >=0.8.0;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L2)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}2: pragma solidity >=0.8.0;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L2)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Named mappings are recommended",
      "description": "[Named mappings](https://docs.soliditylang.org/en/v0.8.18/types.html#mapping-types) (with syntax `mapping(KeyType KeyName? => ValueType ValueName?)`) are recommended.It can make the mapping variables clearer, more readable and easier to maintain.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}30:     mapping(string => uint256) public shareIDs;\n\n43:     mapping(uint256 => ShareData) public shareData;\n\n46:     mapping(uint256 => address) public shareBondingCurves;\n\n49:     mapping(address => bool) public whitelistedBondingCurves;\n\n52:     mapping(uint256 => mapping(address => uint256)) public tokensByAddress;\n\n52:     mapping(uint256 => mapping(address => uint256)) public tokensByAddress;\n\n55:     mapping(uint256 => mapping(address => uint256)) public rewardsLastClaimedValue;\n\n55:     mapping(uint256 => mapping(address => uint256)) public rewardsLastClaimedValue;\n\n64:     mapping(address => bool) public whitelistedShareCreators;\n```\n",
          "loc": [
            "[55](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L55)",
            "[64](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L64)",
            "[52](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L52)",
            "[55](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L55)",
            "[52](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L52)",
            "[30](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L30)",
            "[43](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L43)",
            "[46](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L46)",
            "[49](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L49)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}15:     mapping(address => bool) public isAsD;\n```\n",
          "loc": [
            "[15](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L15)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Whitespace in Expressions",
      "description": "See the [Whitespace in Expressions](https://docs.soliditylang.org/en/latest/style-guide.html#whitespace-in-expressions) section of the Solidity Style Guide.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit Whitespace inside parenthesis\n196:         (uint256 priceForOne, ) = IBondingCurve(bondingCurve).getPriceAndFee(shareData[_id].tokenCount, 1);\n```\n",
          "loc": [
            "[196](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L196)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Modifier declarations should have NatSpec descriptions",
      "description": "Modifier declarations should have NatSpec descriptions",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}80:     modifier onlyShareCreator() {\n```\n",
          "loc": [
            "[80](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L80)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Contract functions should use an `interface`",
      "description": "All `external`/`public` functions should extend an `interface`. This is useful to ensure that the whole API is extracted and can be more easily integrated by other projects.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}104:     function changeBondingCurveAllowed(address _bondingCurve, bool _newState) external onlyOwner {\n\n114:     function createNewShare(\n115:         string memory _shareName,\n116:         address _bondingCurve,\n117:         string memory _metadataURI\n118:     ) external onlyShareCreator returns (uint256 id) {\n\n132:     function getBuyPrice(uint256 _id, uint256 _amount) public view returns (uint256 price, uint256 fee) {\n\n141:     function getSellPrice(uint256 _id, uint256 _amount) public view returns (uint256 price, uint256 fee) {\n\n150:     function buy(uint256 _id, uint256 _amount) external {\n\n174:     function sell(uint256 _id, uint256 _amount) external {\n\n194:     function getNFTMintingPrice(uint256 _id, uint256 _amount) public view returns (uint256 fee) {\n\n203:     function mintNFT(uint256 _id, uint256 _amount) external {\n\n226:     function burnNFT(uint256 _id, uint256 _amount) external {\n\n244:     function claimPlatformFee() external onlyOwner {\n\n253:     function claimCreatorFee(uint256 _id) external {\n\n263:     function claimHolderFee(uint256 _id) external {\n\n300:     function restrictShareCreation(bool _isRestricted) external onlyOwner {\n\n309:     function changeShareCreatorWhitelist(address _address, bool _isWhitelisted) external onlyOwner {\n```\n",
          "loc": [
            "[114-118](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L114-L118)",
            "[104](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L104)",
            "[132](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L132)",
            "[141](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L141)",
            "[150](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L150)",
            "[174](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L174)",
            "[194](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L194)",
            "[203](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L203)",
            "[226](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L226)",
            "[244](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L244)",
            "[253](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L253)",
            "[263](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L263)",
            "[300](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L300)",
            "[309](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L309)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}47:     function mint(uint256 _amount) external {\n\n60:     function burn(uint256 _amount) external {\n\n72:     function withdrawCarry(uint256 _amount) external onlyOwner {\n```\n",
          "loc": [
            "[72](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L72)",
            "[47](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L47)",
            "[60](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L60)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}33:     function create(string memory _name, string memory _symbol) external returns (address) {\n```\n",
          "loc": [
            "[33](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L33)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Addresses shouldn't be hard-coded",
      "description": "It is often better to declare `address`es as `constant` or `immutable` which can be assigned in constructor. This allows the code to remain the same across deployments on different networks, and avoids recompilation when addresses need to change.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}95:             Turnstile turnstile = Turnstile(0xEcf044C5B4b867CFda001101c617eCd347095B44);\n```\n",
          "loc": [
            "[95](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L95)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}39:             Turnstile turnstile = Turnstile(0xEcf044C5B4b867CFda001101c617eCd347095B44);\n```\n",
          "loc": [
            "[39](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L39)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}28:             Turnstile turnstile = Turnstile(0xEcf044C5B4b867CFda001101c617eCd347095B44);\n```\n",
          "loc": [
            "[28](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L28)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Multiple mappings with same keys can be combined into a single struct mapping for readability",
      "description": "Well-organized data structures make code reviews easier, which may lead to fewer bugs. Consider combining related mappings into mappings to structs, so it's clear what data is related.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}43:     mapping(uint256 => ShareData) public shareData;\n\n46:     mapping(uint256 => address) public shareBondingCurves;\n\n52:     mapping(uint256 => mapping(address => uint256)) public tokensByAddress;\n\n55:     mapping(uint256 => mapping(address => uint256)) public rewardsLastClaimedValue;\n```\n",
          "loc": [
            "[55](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L55)",
            "[43](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L43)",
            "[46](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L46)",
            "[52](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L52)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Control structures do not follow the Solidity Style Guide",
      "description": "Refer to the [Solidity style guide - Control Structures](https://docs.soliditylang.org/en/v0.8.20/style-guide.html#control-structures).",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}14:     function getPriceAndFee(uint256 shareCount, uint256 amount)\n15:         external\n16:         view\n17:         override\n18:         returns (uint256 price, uint256 fee)\n19:     {\n```\n",
          "loc": [
            "[14-19](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L14-L19)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Do not cache immutable variables",
      "description": "Instead of caching immutable variables, using them directly can make code more consistent and less prone to errors.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}48:         CErc20Interface cNoteToken = CErc20Interface(cNote);\n\n61:         CErc20Interface cNoteToken = CErc20Interface(cNote);\n```\n",
          "loc": [
            "[61](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L61)",
            "[48](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L48)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Missing event for critical changes",
      "description": "Events should be emitted when critical changes are made to the contracts.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}309:     function changeShareCreatorWhitelist(address _address, bool _isWhitelisted) external onlyOwner {\n310:         require(whitelistedShareCreators[_address] != _isWhitelisted, \"State already set\");\n311:         whitelistedShareCreators[_address] = _isWhitelisted;\n312:     }\n```\n",
          "loc": [
            "[309-312](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L309-L312)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Duplicated `require()`/`revert()` checks should be refactored",
      "description": "Refactoring duplicate `require()`/`revert()` checks into a modifier or function can make the code more concise, readable and maintainable, and less likely to make errors or omissions when modifying the `require()` or `revert()`.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}/// @audit Duplicated on line 86\n64:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem-underlying\n```\n",
          "loc": [
            "[64](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L64)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Consider adding emergency-stop functionality",
      "description": "Adding a way to quickly halt protocol functionality in an emergency, rather than having to pause individual contracts one-by-one, will make in-progress hack mitigation faster and much less stressful.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}10: contract Market is ERC1155, Ownable2Step {\n```\n",
          "loc": [
            "[10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L10)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}11: contract asD is ERC20, Ownable2Step {\n```\n",
          "loc": [
            "[11](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L11)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}8: contract asDFactory is Ownable2Step {\n```\n",
          "loc": [
            "[8](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L8)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Avoid the use of sensitive terms",
      "description": "Use [alternative variants](https://www.zdnet.com/article/mysql-drops-master-slave-and-blacklist-whitelist-terminology/), e.g. allowlist/denylist instead of whitelist/blacklist.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}49:     mapping(address => bool) public whitelistedBondingCurves;\n\n60:     /// @notice If true, only the whitelisted addresses can create shares\n\n64:     mapping(address => bool) public whitelistedShareCreators;\n\n69:     event BondingCurveStateChange(address indexed curve, bool isWhitelisted);\n\n82:             !shareCreationRestricted || whitelistedShareCreators[msg.sender] || msg.sender == owner(),\n\n100:     /// @notice Whitelist or remove whitelist for a bonding curve.\n\n100:     /// @notice Whitelist or remove whitelist for a bonding curve.\n\n101:     /// @dev Whitelisting status is only checked when adding a share\n\n103:     /// @param _newState True if whitelisted, false if not\n\n105:         require(whitelistedBondingCurves[_bondingCurve] != _newState, \"State already set\");\n\n106:         whitelistedBondingCurves[_bondingCurve] = _newState;\n\n112:     /// @param _bondingCurve Address of the bonding curve, has to be whitelisted\n\n119:         require(whitelistedBondingCurves[_bondingCurve], \"Bonding curve not whitelisted\");\n\n119:         require(whitelistedBondingCurves[_bondingCurve], \"Bonding curve not whitelisted\");\n\n306:     /// @notice Adds or removes an address from the whitelist of share creators\n\n308:     /// @param _isWhitelisted True if whitelisted, false if not\n\n308:     /// @param _isWhitelisted True if whitelisted, false if not\n\n309:     function changeShareCreatorWhitelist(address _address, bool _isWhitelisted) external onlyOwner {\n\n309:     function changeShareCreatorWhitelist(address _address, bool _isWhitelisted) external onlyOwner {\n\n310:         require(whitelistedShareCreators[_address] != _isWhitelisted, \"State already set\");\n\n310:         require(whitelistedShareCreators[_address] != _isWhitelisted, \"State already set\");\n\n311:         whitelistedShareCreators[_address] = _isWhitelisted;\n\n311:         whitelistedShareCreators[_address] = _isWhitelisted;\n```\n",
          "loc": [
            "[101](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L101)",
            "[311](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L311)",
            "[311](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L311)",
            "[310](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L310)",
            "[310](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L310)",
            "[309](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L309)",
            "[309](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L309)",
            "[308](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L308)",
            "[308](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L308)",
            "[306](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L306)",
            "[119](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L119)",
            "[119](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L119)",
            "[112](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L112)",
            "[106](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L106)",
            "[105](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L105)",
            "[103](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L103)",
            "[100](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L100)",
            "[100](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L100)",
            "[82](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L82)",
            "[69](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L69)",
            "[64](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L64)",
            "[60](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L60)",
            "[49](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L49)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Contracts should have NatSpec `@dev` tags",
      "description": "The `@dev` tag is used to explain extra details to developers.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}10: contract Market is ERC1155, Ownable2Step {\n```\n",
          "loc": [
            "[10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L10)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}6: contract LinearBondingCurve is IBondingCurve {\n```\n",
          "loc": [
            "[6](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L6)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}11: contract asD is ERC20, Ownable2Step {\n```\n",
          "loc": [
            "[11](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L11)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}8: contract asDFactory is Ownable2Step {\n```\n",
          "loc": [
            "[8](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L8)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Missing NatSpec `@dev` from event declaration",
      "description": "Some events have an incomplete NatSpec: add a `@dev` notation to describe the event to improve the code documentation.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}69:     event BondingCurveStateChange(address indexed curve, bool isWhitelisted);\n\n70:     event ShareCreated(uint256 indexed id, string name, address indexed bondingCurve, address indexed creator);\n\n71:     event SharesBought(uint256 indexed id, address indexed buyer, uint256 amount, uint256 price, uint256 fee);\n\n72:     event SharesSold(uint256 indexed id, address indexed seller, uint256 amount, uint256 price, uint256 fee);\n\n73:     event NFTsCreated(uint256 indexed id, address indexed creator, uint256 amount, uint256 fee);\n\n74:     event NFTsBurned(uint256 indexed id, address indexed burner, uint256 amount, uint256 fee);\n\n75:     event PlatformFeeClaimed(address indexed claimer, uint256 amount);\n\n76:     event CreatorFeeClaimed(address indexed claimer, uint256 indexed id, uint256 amount);\n\n77:     event HolderFeeClaimed(address indexed claimer, uint256 indexed id, uint256 amount);\n\n78:     event ShareCreationRestricted(bool isRestricted);\n```\n",
          "loc": [
            "[72](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L72)",
            "[71](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L71)",
            "[70](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L70)",
            "[69](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L69)",
            "[76](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L76)",
            "[73](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L73)",
            "[74](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L74)",
            "[78](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L78)",
            "[77](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L77)",
            "[75](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L75)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}20:     event CarryWithdrawal(uint256 amount);\n```\n",
          "loc": [
            "[20](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L20)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}20:     event CreatedToken(address token, string symbol, string name, address creator);\n```\n",
          "loc": [
            "[20](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L20)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Missing NatSpec `@notice` from event declaration",
      "description": "Some events have an incomplete NatSpec: add a @notice notation to describe the event to improve the code documentation.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}69:     event BondingCurveStateChange(address indexed curve, bool isWhitelisted);\n\n70:     event ShareCreated(uint256 indexed id, string name, address indexed bondingCurve, address indexed creator);\n\n71:     event SharesBought(uint256 indexed id, address indexed buyer, uint256 amount, uint256 price, uint256 fee);\n\n72:     event SharesSold(uint256 indexed id, address indexed seller, uint256 amount, uint256 price, uint256 fee);\n\n73:     event NFTsCreated(uint256 indexed id, address indexed creator, uint256 amount, uint256 fee);\n\n74:     event NFTsBurned(uint256 indexed id, address indexed burner, uint256 amount, uint256 fee);\n\n75:     event PlatformFeeClaimed(address indexed claimer, uint256 amount);\n\n76:     event CreatorFeeClaimed(address indexed claimer, uint256 indexed id, uint256 amount);\n\n77:     event HolderFeeClaimed(address indexed claimer, uint256 indexed id, uint256 amount);\n\n78:     event ShareCreationRestricted(bool isRestricted);\n```\n",
          "loc": [
            "[71](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L71)",
            "[69](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L69)",
            "[72](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L72)",
            "[70](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L70)",
            "[78](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L78)",
            "[77](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L77)",
            "[76](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L76)",
            "[75](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L75)",
            "[74](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L74)",
            "[73](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L73)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}20:     event CarryWithdrawal(uint256 amount);\n```\n",
          "loc": [
            "[20](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L20)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}20:     event CreatedToken(address token, string symbol, string name, address creator);\n```\n",
          "loc": [
            "[20](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L20)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Missing NatSpec `@dev` from function declaration",
      "description": "Some functions have an incomplete NatSpec: add a `@dev` notation to describe the function to improve the code documentation.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}91:     constructor(string memory _uri, address _paymentToken) ERC1155(_uri) Ownable() {\n\n114:     function createNewShare(\n\n132:     function getBuyPrice(uint256 _id, uint256 _amount) public view returns (uint256 price, uint256 fee) {\n\n141:     function getSellPrice(uint256 _id, uint256 _amount) public view returns (uint256 price, uint256 fee) {\n\n150:     function buy(uint256 _id, uint256 _amount) external {\n\n174:     function sell(uint256 _id, uint256 _amount) external {\n\n194:     function getNFTMintingPrice(uint256 _id, uint256 _amount) public view returns (uint256 fee) {\n\n203:     function mintNFT(uint256 _id, uint256 _amount) external {\n\n226:     function burnNFT(uint256 _id, uint256 _amount) external {\n\n244:     function claimPlatformFee() external onlyOwner {\n\n253:     function claimCreatorFee(uint256 _id) external {\n\n263:     function claimHolderFee(uint256 _id) external {\n\n272:     function _getRewardsSinceLastClaim(uint256 _id) internal view returns (uint256 amount) {\n\n280:     function _splitFees(\n\n300:     function restrictShareCreation(bool _isRestricted) external onlyOwner {\n\n309:     function changeShareCreatorWhitelist(address _address, bool _isWhitelisted) external onlyOwner {\n```\n",
          "loc": [
            "[309](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L309)",
            "[91](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L91)",
            "[114](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L114)",
            "[132](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L132)",
            "[141](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L141)",
            "[150](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L150)",
            "[174](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L174)",
            "[194](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L194)",
            "[203](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L203)",
            "[226](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L226)",
            "[244](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L244)",
            "[253](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L253)",
            "[263](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L263)",
            "[272](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L272)",
            "[280](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L280)",
            "[300](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L300)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}10:     constructor(uint256 _priceIncrease) {\n\n14:     function getPriceAndFee(uint256 shareCount, uint256 amount)\n\n27:     function getFee(uint256 shareCount) public pure override returns (uint256) {\n```\n",
          "loc": [
            "[10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L10)",
            "[14](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L14)",
            "[27](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L27)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}28:     constructor(\n\n60:     function burn(uint256 _amount) external {\n```\n",
          "loc": [
            "[28](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L28)",
            "[60](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L60)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}24:     constructor(address _cNote) {\n\n33:     function create(string memory _name, string memory _symbol) external returns (address) {\n```\n",
          "loc": [
            "[33](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L33)",
            "[24](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L24)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Missing NatSpec `@notice` from function declaration",
      "description": "Some functions have an incomplete NatSpec: add a `@notice` notation to describe the function to improve the code documentation.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}272:     function _getRewardsSinceLastClaim(uint256 _id) internal view returns (uint256 amount) {\n```\n",
          "loc": [
            "[272](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L272)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}10:     constructor(uint256 _priceIncrease) {\n\n14:     function getPriceAndFee(uint256 shareCount, uint256 amount)\n\n27:     function getFee(uint256 shareCount) public pure override returns (uint256) {\n```\n",
          "loc": [
            "[10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L10)",
            "[14](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L14)",
            "[27](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L27)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}33:     function create(string memory _name, string memory _symbol) external returns (address) {\n```\n",
          "loc": [
            "[33](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L33)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Missing NatSpec `@dev` from modifier declaration",
      "description": "Some modifiers have an incomplete NatSpec: add a `@dev` notation to describe the modifier to improve the code documentation.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}80:     modifier onlyShareCreator() {\n```\n",
          "loc": [
            "[80](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L80)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Missing NatSpec `@notice` from modifier declaration",
      "description": "Some modifiers have an incomplete NatSpec: add a `@notice` notation to describe the modifier to improve the code documentation.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}80:     modifier onlyShareCreator() {\n```\n",
          "loc": [
            "[80](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L80)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Contracts should have full test coverage",
      "description": "While 100% code coverage does not guarantee that there are no bugs, it often will catch easy-to-find bugs, and will ensure that there are fewer regressions when the code invariably has to be modified. Furthermore, in order to get full coverage, code authors will often have to re-organize their code so that it is more modular, so that each component can be tested separately, which reduces interdependencies between modules and layers, and makes for code that is easier to reason about and audit.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\n/// @audit Global finding.\n```\n",
          "loc": [
            "[0](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Large or complicated code bases should implement invariant tests",
      "description": "This includes: large code bases, or code with lots of inline-assembly, complicated math, or complicated interactions between multiple contracts.\nInvariant fuzzers such as Echidna require the test writer to come up with invariants which should not be violated under any circumstances, and the fuzzer tests various inputs and function calls to ensure that the invariants always hold.\nEven code with 100% code coverage can still have bugs due to the order of the operations a user performs, and invariant fuzzers may help significantly.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\n/// @audit Global finding.\n```\n",
          "loc": [
            "[0](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Top-level declarations should be separated by at least two lines",
      "description": "-",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}2: pragma solidity 0.8.19;\n3: \n4: import {ERC1155} from \"@openzeppelin/contracts/token/ERC1155/ERC1155.sol\";\n\n8: import {Turnstile} from \"../interface/Turnstile.sol\";\n9: \n10: contract Market is ERC1155, Ownable2Step {\n\n270:     }\n271: \n272:     function _getRewardsSinceLastClaim(uint256 _id) internal view returns (uint256 amount) {\n```\n",
          "loc": [
            "[270-272](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L270-L272)",
            "[8-10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L8-L10)",
            "[2-4](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L2-L4)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}2: pragma solidity 0.8.19;\n3: \n4: import {IBondingCurve} from \"../../interface/IBondingCurve.sol\";\n\n4: import {IBondingCurve} from \"../../interface/IBondingCurve.sol\";\n5: \n6: contract LinearBondingCurve is IBondingCurve {\n\n12:     }\n13: \n14:     function getPriceAndFee(uint256 shareCount, uint256 amount)\n\n25:     }\n26: \n27:     function getFee(uint256 shareCount) public pure override returns (uint256) {\n```\n",
          "loc": [
            "[2-4](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L2-L4)",
            "[4-6](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L4-L6)",
            "[12-14](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L12-L14)",
            "[25-27](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L25-L27)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}2: pragma solidity >=0.8.0;\n3: \n4: import {Turnstile} from \"../interface/Turnstile.sol\";\n\n9: import {SafeERC20} from \"@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol\";\n10: \n11: contract asD is ERC20, Ownable2Step {\n```\n",
          "loc": [
            "[2-4](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L2-L4)",
            "[9-11](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L9-L11)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}2: pragma solidity >=0.8.0;\n3: \n4: import {Turnstile} from \"../interface/Turnstile.sol\";\n\n6: import {asD} from \"./asD.sol\";\n7: \n8: contract asDFactory is Ownable2Step {\n\n31:     }\n32: \n33:     function create(string memory _name, string memory _symbol) external returns (address) {\n```\n",
          "loc": [
            "[2-4](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L2-L4)",
            "[31-33](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L31-L33)",
            "[6-8](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L6-L8)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Consider adding formal verification proofs",
      "description": "Formal verification is the act of proving or disproving the correctness of intended algorithms underlying a system with respect to a certain formal specification/property/invariant, using formal methods of mathematics.\n\nSome tools that are currently available to perform these tests on smart contracts are [SMTChecker](https://docs.soliditylang.org/en/latest/smtchecker.html) and [Certora Prover](https://www.certora.com/).",
      "gasSavings": 1000,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}```\n",
          "loc": [
            "[0](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}```\n",
          "loc": [
            "[0](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}```\n",
          "loc": [
            "[0](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}```\n",
          "loc": [
            "[0](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol)"
          ]
        }
      ]
    },
    {
      "severity": "NonCritical",
      "title": "Error messages should be descriptive, not cryptic",
      "description": "Consider make these error messages more descriptive.",
      "gasSavings": 18,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}81:         require(\n82:             !shareCreationRestricted || whitelistedShareCreators[msg.sender] || msg.sender == owner(),\n83:             \"Not allowed\"\n84:         );\n\n105:         require(whitelistedBondingCurves[_bondingCurve] != _newState, \"State already set\");\n\n301:         require(shareCreationRestricted != _isRestricted, \"State already set\");\n\n310:         require(whitelistedShareCreators[_address] != _isWhitelisted, \"State already set\");\n```\n",
          "loc": [
            "[301](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L301)",
            "[105](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L105)",
            "[81-84](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L81-L84)",
            "[310](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L310)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}64:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem-underlying\n\n86:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem\n```\n",
          "loc": [
            "[86](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L86)",
            "[64](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L64)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Using `private` for constants saves gas",
      "description": "If needed, the values can be read from the verified contract source code, or if there are multiple values there can be a single getter function that [returns a tuple](https://github.com/code-423n4/2022-08-frax/blob/90f55a9ce4e25bceed3a74290b854341d8de6afa/src/contracts/FraxlendPair.sol#L156-L178) of the values of all currently-public constants. Saves **3406-3606 gas** in deployment gas due to the compiler not having to create non-payable getter functions for deployment calldata, not having to store the bytes of the value outside of where it's used, and not adding another entry to the method ID table",
      "gasSavings": 10218,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}14:     uint256 public constant NFT_FEE_BPS = 1_000; // 10%\n\n15:     uint256 public constant HOLDER_CUT_BPS = 3_300; // 33%\n\n16:     uint256 public constant CREATOR_CUT_BPS = 3_300; // 33%\n```\n",
          "loc": [
            "[16](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L16)",
            "[15](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L15)",
            "[14](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L14)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Constructors can be marked as payable to save deployment gas",
      "description": "Payable functions cost less gas to execute, because the compiler does not have to add extra checks to ensure that no payment is provided. A constructor can be safely marked as payable, because only the deployer would be able to pass funds, and the project itself would not pass any funds.",
      "gasSavings": 84,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}91:     constructor(string memory _uri, address _paymentToken) ERC1155(_uri) Ownable() {\n```\n",
          "loc": [
            "[91](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L91)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}10:     constructor(uint256 _priceIncrease) {\n```\n",
          "loc": [
            "[10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L10)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}28:     constructor(\n29:         string memory _name,\n30:         string memory _symbol,\n31:         address _owner,\n32:         address _cNote,\n33:         address _csrRecipient\n34:     ) ERC20(_name, _symbol) {\n```\n",
          "loc": [
            "[28-34](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L28-L34)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}24:     constructor(address _cNote) {\n```\n",
          "loc": [
            "[24](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L24)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Using `++X`/`--X` instead of `X++`/`X--` can save gas",
      "description": "It can save 5 gas for each execution / per iteration.",
      "gasSavings": 5,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}20:         for (uint256 i = shareCount; i < shareCount + amount; i++) {\n```\n",
          "loc": [
            "[20](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L20)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Use custom errors rather than `revert()`/`require()` strings to save gas",
      "description": "Custom errors are available from solidity version 0.8.4. Custom errors save [**~50 gas**](https://gist.github.com/IllIllI000/ad1bd0d29a0101b25e57c293b4b0c746) each time they're hit by [avoiding having to allocate and store the revert string](https://blog.soliditylang.org/2021/04/21/custom-errors/#errors-in-depth). Not defining the strings also save deployment gas.",
      "gasSavings": 600,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}81:         require(\n82:             !shareCreationRestricted || whitelistedShareCreators[msg.sender] || msg.sender == owner(),\n83:             \"Not allowed\"\n84:         );\n\n105:         require(whitelistedBondingCurves[_bondingCurve] != _newState, \"State already set\");\n\n119:         require(whitelistedBondingCurves[_bondingCurve], \"Bonding curve not whitelisted\");\n\n120:         require(shareIDs[_shareName] == 0, \"Share already exists\");\n\n151:         require(shareData[_id].creator != msg.sender, \"Creator cannot buy\");\n\n254:         require(shareData[_id].creator == msg.sender, \"Not creator\");\n\n301:         require(shareCreationRestricted != _isRestricted, \"State already set\");\n\n310:         require(whitelistedShareCreators[_address] != _isWhitelisted, \"State already set\");\n```\n",
          "loc": [
            "[310](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L310)",
            "[105](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L105)",
            "[119](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L119)",
            "[301](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L301)",
            "[151](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L151)",
            "[254](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L254)",
            "[81-84](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L81-L84)",
            "[120](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L120)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}54:         require(returnCode == 0, \"Error when minting\");\n\n64:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem-underlying\n\n81:             require(_amount <= maximumWithdrawable, \"Too many tokens requested\");\n\n86:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem\n```\n",
          "loc": [
            "[86](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L86)",
            "[81](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L81)",
            "[64](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L64)",
            "[54](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L54)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Do not cache state variables that are used only once",
      "description": "It's cheaper to access the state variable directly if it is accessed only once. This can save the 3 gas cost of the extra stack allocation.",
      "gasSavings": 12,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}134:         address bondingCurve = shareData[_id].bondingCurve;\n\n143:         address bondingCurve = shareData[_id].bondingCurve;\n\n195:         address bondingCurve = shareData[_id].bondingCurve;\n\n273:         uint256 lastClaimedValue = rewardsLastClaimedValue[_id][msg.sender];\n```\n",
          "loc": [
            "[143](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L143)",
            "[195](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L195)",
            "[134](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L134)",
            "[273](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L273)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Inline `modifier`s that are only used once to save gas",
      "description": "Inline `modifier`s that are only used once can save gas.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}80:     modifier onlyShareCreator() {\n```\n",
          "loc": [
            "[80](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L80)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Functions that revert when called by normal users can be marked `payable`",
      "description": "If a function modifier such as `onlyOwner` is used, the function will revert if a normal user tries to pay the function. Marking the function as `payable` will lower the gas cost for legitimate callers because the compiler will not include checks for whether a payment was provided.\nThe extra opcodes avoided are: \n`CALLVALUE(2), DUP1(3), ISZERO(3), PUSH2(3), JUMPI(10), PUSH1(3), DUP1(3), REVERT(0), JUMPDEST(1), POP(2)` \nwhich cost an average of about 21 gas per call to the function, in addition to the extra deployment cost.",
      "gasSavings": 126,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}104:     function changeBondingCurveAllowed(address _bondingCurve, bool _newState) external onlyOwner {\n\n114:     function createNewShare(\n115:         string memory _shareName,\n116:         address _bondingCurve,\n117:         string memory _metadataURI\n118:     ) external onlyShareCreator returns (uint256 id) {\n\n244:     function claimPlatformFee() external onlyOwner {\n\n300:     function restrictShareCreation(bool _isRestricted) external onlyOwner {\n\n309:     function changeShareCreatorWhitelist(address _address, bool _isWhitelisted) external onlyOwner {\n```\n",
          "loc": [
            "[300](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L300)",
            "[104](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L104)",
            "[114-118](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L114-L118)",
            "[244](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L244)",
            "[309](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L309)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}72:     function withdrawCarry(uint256 _amount) external onlyOwner {\n```\n",
          "loc": [
            "[72](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L72)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Use `x = x + y` instead of `x += y` for state variables",
      "description": "Using the `x = x + y` instead of `x += y` for state simple state variables can save **10 gas**. The same applies to `-=`, `*=`, etc.",
      "gasSavings": 10,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}295:         platformPool += platformFee;\n```\n",
          "loc": [
            "[295](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L295)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Operator `>=`/`<=` costs less gas than operator `>`/`<`",
      "description": "The compiler uses opcodes `GT` and `ISZERO` for code that uses `>`, but only requires `LT` for `>=`. A similar behavior applies for `>`, which uses opcodes `LT` and `ISZERO`, but only requires `GT` for `<=`. It can [save **3 gas**](https://gist.github.com/IllIllI000/3dc79d25acccfa16dee4e83ffdc6ffde) for each.\nIt should be converted to the `<=`/`>=` equivalent when comparing against integer literals.",
      "gasSavings": 18,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}165:         if (rewardsSinceLastClaim > 0) {\n\n216:         if (rewardsSinceLastClaim > 0) {\n\n266:         if (amount > 0) {\n\n289:         if (_tokenCount > 0) {\n```\n",
          "loc": [
            "[289](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L289)",
            "[266](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L266)",
            "[165](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L165)",
            "[216](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L216)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}20:         for (uint256 i = shareCount; i < shareCount + amount; i++) {\n\n29:         if (shareCount > 1) {\n```\n",
          "loc": [
            "[29](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L29)",
            "[20](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L20)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Unused non-constant state variables waste gas",
      "description": "If the variable is assigned a non-zero value, saves Gsset (**20000 gas**). If it's assigned a zero value, saves Gsreset (**2900 gas**). If the variable remains unassigned, there is no gas savings unless the variable is `public`, in which case the compiler-generated non-payable getter deployment cost is saved. If the state variable is overriding an interface's public function, mark the variable as `constant` or `immutable` so that it does not use a storage slot.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}46:     mapping(uint256 => address) public shareBondingCurves;\n```\n",
          "loc": [
            "[46](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L46)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Usage of `int`s/`uint`s smaller than 32 bytes incurs overhead",
      "description": "Using `ints`/`uints` smaller than 32 bytes may cost more gas. This is because the EVM operates on 32 bytes at a time, so if an element is smaller than 32 bytes, the EVM must perform more operations to reduce the size of the element from 32 bytes to the desired size.",
      "gasSavings": 55,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit uint256\n27:     uint256 public shareCount;\n```\n",
          "loc": [
            "[27](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L27)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Divisions can be unchecked to save gas",
      "description": "The expression `type(int).min/(-1)` is the only case where division causes an overflow. Therefore, uncheck can be used to [save gas](https://gist.github.com/DadeKuma/3bc597338ae774b8b3bd43280d55271f) in scenarios where it is certain that such an overflow will not occur.",
      "gasSavings": 160,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}197:         fee = (priceForOne * _amount * NFT_FEE_BPS) / 10_000;\n\n275:             ((shareData[_id].shareHolderRewardsPerTokenScaled - lastClaimedValue) * tokensByAddress[_id][msg.sender]) /\n276:             1e18;\n\n285:         uint256 shareHolderFee = (_fee * HOLDER_CUT_BPS) / 10_000;\n\n286:         uint256 shareCreatorFee = (_fee * CREATOR_CUT_BPS) / 10_000;\n\n290:             shareData[_id].shareHolderRewardsPerTokenScaled += (shareHolderFee * 1e18) / _tokenCount;\n```\n",
          "loc": [
            "[197](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L197)",
            "[285](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L285)",
            "[290](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L290)",
            "[286](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L286)",
            "[275-276](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L275-L276)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}23:             fee += (getFee(i) * tokenPrice) / 1e18;\n\n35:         return 1e17 / divisor;\n```\n",
          "loc": [
            "[23](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L23)",
            "[35](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L35)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}75:         uint256 maximumWithdrawable = (CTokenInterface(cNote).balanceOf(address(this)) * exchangeRate) /\n76:             1e28 -\n```\n",
          "loc": [
            "[75-76](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L75-L76)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Increments can be `unchecked` to save gas",
      "description": "Using `unchecked` increments can save gas by bypassing the built-in overflow checks. This can save [30-40 gas](https://gist.github.com/hrkrshnn/ee8fabd532058307229d65dcd5836ddc#the-increment-in-for-loop-post-condition-can-be-made-unchecked) **per iteration**. So it is recommended to use `unchecked` increments when overflow is not possible.",
      "gasSavings": 60,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}20:         for (uint256 i = shareCount; i < shareCount + amount; i++) {\n```\n",
          "loc": [
            "[20](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L20)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Use assembly to validate `msg.sender`",
      "description": "We can use assembly to efficiently validate msg.sender with the least amount of opcodes necessary. For more details check the following report [Here](https://code4rena.com/reports/2023-05-juicebox#g-06-use-assembly-to-validate-msgsender)",
      "gasSavings": 36,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}82:             !shareCreationRestricted || whitelistedShareCreators[msg.sender] || msg.sender == owner(),\n\n151:         require(shareData[_id].creator != msg.sender, \"Creator cannot buy\");\n\n254:         require(shareData[_id].creator == msg.sender, \"Not creator\");\n```\n",
          "loc": [
            "[254](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L254)",
            "[82](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L82)",
            "[151](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L151)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Using assembly to check for zero can save gas",
      "description": "Using assembly to check for zero can save gas by allowing more direct access to the evm and reducing some of the overhead associated with high-level operations in solidity.",
      "gasSavings": 30,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}120:         require(shareIDs[_shareName] == 0, \"Share already exists\");\n```\n",
          "loc": [
            "[120](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L120)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}54:         require(returnCode == 0, \"Error when minting\");\n\n64:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem-underlying\n\n78:         if (_amount == 0) {\n\n86:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem\n```\n",
          "loc": [
            "[54](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L54)",
            "[64](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L64)",
            "[78](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L78)",
            "[86](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L86)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Avoid contract existence checks by using low level calls",
      "description": "Prior to 0.8.10 the compiler inserted extra code, including EXTCODESIZE (100 gas), to check for contract existence for external function calls. In more recent solidity versions, the compiler will not insert these checks if the external call has a return value. Similar behavior can be achieved in earlier versions by using low-level calls, since low level calls never check for contract existence.",
      "gasSavings": 800,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}49:         IERC20 note = IERC20(cNoteToken.underlying());\n\n52:         uint256 returnCode = cNoteToken.mint(_amount);\n\n62:         IERC20 note = IERC20(cNoteToken.underlying());\n\n63:         uint256 returnCode = cNoteToken.redeemUnderlying(_amount); // Request _amount of NOTE (the underlying of cNOTE)\n\n73:         uint256 exchangeRate = CTokenInterface(cNote).exchangeRateCurrent(); // Scaled by 1 * 10^(18 - 8 + Underlying Token Decimals), i.e. 10^(28) in our case\n\n75:         uint256 maximumWithdrawable = (CTokenInterface(cNote).balanceOf(address(this)) * exchangeRate) /\n\n85:         uint256 returnCode = CErc20Interface(cNote).redeemUnderlying(_amount);\n\n87:         IERC20 note = IERC20(CErc20Interface(cNote).underlying());\n```\n",
          "loc": [
            "[87](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L87)",
            "[49](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L49)",
            "[52](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L52)",
            "[62](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L62)",
            "[63](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L63)",
            "[73](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L73)",
            "[75](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L75)",
            "[85](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L85)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Use `uint256(1)`/`uint256(2)` instead of `true`/`false` to save gas for changes",
      "description": "Use uint256(1) and uint256(2) for true/false to avoid a Gwarmaccess (100 gas), and to avoid Gsset (20000 gas) when changing from ‘false’ to ‘true’, after having been ‘true’ in the past. Refer to the [source](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/5ae630684a0f57de400ef69499addab4c32ac8fb/contracts/security/ReentrancyGuard.sol#L23-L27).",
      "gasSavings": 68400,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}49:     mapping(address => bool) public whitelistedBondingCurves;\n\n61:     bool public shareCreationRestricted = true;\n\n64:     mapping(address => bool) public whitelistedShareCreators;\n```\n",
          "loc": [
            "[64](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L64)",
            "[49](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L49)",
            "[61](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L61)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}15:     mapping(address => bool) public isAsD;\n```\n",
          "loc": [
            "[15](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L15)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Avoid zero transfer to save gas",
      "description": "In Solidity, unnecessary operations can waste gas. For example, a transfer function without a zero amount check uses gas even if called with a zero amount, since the contract state remains unchanged. Implementing a zero amount check avoids these unnecessary function calls, saving gas and improving efficiency.",
      "gasSavings": 900,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}153:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), price + fee);\n\n187:         SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim + price - fee);\n\n206:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), fee);\n\n229:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), fee);\n\n238:         SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim);\n\n247:         SafeERC20.safeTransfer(token, msg.sender, amount);\n\n257:         SafeERC20.safeTransfer(token, msg.sender, amount);\n```\n",
          "loc": [
            "[247](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L247)",
            "[153](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L153)",
            "[187](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L187)",
            "[206](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L206)",
            "[229](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L229)",
            "[238](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L238)",
            "[257](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L257)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}50:         SafeERC20.safeTransferFrom(note, msg.sender, address(this), _amount);\n\n66:         SafeERC20.safeTransfer(note, msg.sender, _amount);\n```\n",
          "loc": [
            "[66](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L66)",
            "[50](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L50)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Optimize names to save gas",
      "description": "`public`/`external` function names and `public` member variable names can be optimized to save gas. Below are the interfaces/abstract contracts that can be optimized so that the most frequently-called functions use the least amount of gas possible during method lookup. Method IDs that have two leading zero bytes can save 128 gas each during deployment, and renaming functions to have lower method IDs will save 22 gas per call, [per sorted position shifted](https://medium.com/joyso/solidity-how-does-function-name-affect-gas-consumption-in-smart-contract-47d270d8ac92).",
      "gasSavings": 88,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit changeBondingCurveAllowed(), createNewShare(), getBuyPrice(), getSellPrice(), buy(), sell(), getNFTMintingPrice(), mintNFT(), burnNFT(), claimPlatformFee(), claimCreatorFee(), claimHolderFee(), restrictShareCreation(), changeShareCreatorWhitelist(), NFT_FEE_BPS, HOLDER_CUT_BPS, CREATOR_CUT_BPS, token, shareCount, shareIDs, shareData, shareBondingCurves, whitelistedBondingCurves, tokensByAddress, rewardsLastClaimedValue, platformPool, shareCreationRestricted, whitelistedShareCreators\n10: contract Market is ERC1155, Ownable2Step {\n```\n",
          "loc": [
            "[10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L10)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}/// @audit getPriceAndFee(), getFee(), priceIncrease\n6: contract LinearBondingCurve is IBondingCurve {\n```\n",
          "loc": [
            "[6](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L6)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}/// @audit mint(), burn(), withdrawCarry(), cNote\n11: contract asD is ERC20, Ownable2Step {\n```\n",
          "loc": [
            "[11](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L11)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}/// @audit create(), cNote, isAsD\n8: contract asDFactory is Ownable2Step {\n```\n",
          "loc": [
            "[8](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L8)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Reduce gas usage by moving to Solidity 0.8.19 or later",
      "description": "Solidity version 0.8.19 introduced a number of gas optimizations, refer to the [Solidity 0.8.19 Release Announcement](https://soliditylang.org/blog/2023/02/22/solidity-0.8.19-release-announcement) for details.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}2: pragma solidity >=0.8.0;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L2)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}2: pragma solidity >=0.8.0;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L2)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Newer versions of solidity are more gas efficient",
      "description": "The solidity language continues to pursue more efficient gas optimization schemes. Adopting a [newer version of solidity](https://github.com/ethereum/solc-js/tags) can be more gas efficient.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}2: pragma solidity 0.8.19;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L2)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}2: pragma solidity 0.8.19;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L2)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}2: pragma solidity >=0.8.0;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L2)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}2: pragma solidity >=0.8.0;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L2)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Avoid updating storage when the value hasn't changed",
      "description": "Manipulating storage in solidity is gas-intensive. It can be optimized by avoiding unnecessary storage updates when the new value equals the existing value.\nIf the old value is equal to the new value, not re-storing the value will avoid a Gsreset (**2900 gas**), potentially at the expense of a Gcoldsload (**2100 gas**) or a Gwarmaccess (**100 gas**).",
      "gasSavings": 4000,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}159:         rewardsLastClaimedValue[_id][msg.sender] = shareData[_id].shareHolderRewardsPerTokenScaled;\n\n180:         rewardsLastClaimedValue[_id][msg.sender] = shareData[_id].shareHolderRewardsPerTokenScaled;\n\n210:         rewardsLastClaimedValue[_id][msg.sender] = shareData[_id].shareHolderRewardsPerTokenScaled;\n\n233:         rewardsLastClaimedValue[_id][msg.sender] = shareData[_id].shareHolderRewardsPerTokenScaled;\n\n265:         rewardsLastClaimedValue[_id][msg.sender] = shareData[_id].shareHolderRewardsPerTokenScaled;\n```\n",
          "loc": [
            "[159](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L159)",
            "[265](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L265)",
            "[233](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L233)",
            "[210](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L210)",
            "[180](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L180)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "State variables that are used multiple times in a function should be cached in stack variables",
      "description": "When performing multiple operations on a state variable in a function, it is recommended to cache it first. Either multiple reads or multiple writes to a state variable can save gas by caching it on the stack.\nCaching of a state variable replaces each Gwarmaccess (100 gas) with a much cheaper stack read. Other less obvious fixes/optimizations include having local memory caches of state variable structs, or having local caches of state variable contracts/addresses.\n*Saves 100 gas per instance*.",
      "gasSavings": 1164,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit shareData[_id].tokensInCirculation: 2 reads 1 writes\n150:     function buy(uint256 _id, uint256 _amount) external {\n\n/// @audit shareData[_id].tokensInCirculation: 2 reads 1 writes\n174:     function sell(uint256 _id, uint256 _amount) external {\n\n/// @audit shareData[_id].tokensInCirculation: 2 reads 1 writes\n203:     function mintNFT(uint256 _id, uint256 _amount) external {\n\n/// @audit shareData[_id].tokensInCirculation: 2 reads 1 writes\n226:     function burnNFT(uint256 _id, uint256 _amount) external {\n```\n",
          "loc": [
            "[226](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L226)",
            "[203](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L203)",
            "[174](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L174)",
            "[150](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L150)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Contracts can use fewer storage slots by truncating state variables",
      "description": "Some state variables can be safely modified so that the contract uses fewer storage slots. Each saved slot can avoid an extra Gsset (**20000 gas**) for the first setting of the struct. Subsequent reads as well as writes have smaller gas savings.",
      "gasSavings": 20000,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit Truncate `shareCount` to `uint64`\n/// @audit Fewer storage usage (10 slots -> 9 slots):\n///        32 B: mapping(string => uint256) shareIDs\n///        32 B: mapping(uint256 => ShareData) shareData\n///        32 B: mapping(uint256 => address) shareBondingCurves\n///        32 B: mapping(address => bool) whitelistedBondingCurves\n///        32 B: mapping(uint256 => mapping(address => uint256)) tokensByAddress\n///        32 B: mapping(uint256 => mapping(address => uint256)) rewardsLastClaimedValue\n///        32 B: uint256 platformPool\n///        32 B: mapping(address => bool) whitelistedShareCreators\n///        4 B: uint64 shareCount\n///        1 B: bool shareCreationRestricted\n10: contract Market is ERC1155, Ownable2Step {\n```\n",
          "loc": [
            "[10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L10)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Refactor duplicated `require()`/`revert()` checks to save gas",
      "description": "Duplicate `require()`/`revert()` checks can be refactored into a modifier or function, saving deployment costs.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}/// @audit Duplicated on line 86\n64:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem-underlying\n```\n",
          "loc": [
            "[64](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L64)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Use assembly to emit events",
      "description": "To efficiently emit events, it's possible to utilize assembly by making use of scratch space and the free memory pointer. This approach has the advantage of potentially avoiding the costs associated with memory expansion.\n\nHowever, it's important to note that in order to safely optimize this process, it is preferable to cache and restore the free memory pointer.\n\nA good example of such practice can be seen in [Solady's](https://github.com/Vectorized/solady/blob/main/src/tokens/ERC1155.sol#L167) codebase.",
      "gasSavings": 342,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}107:         emit BondingCurveStateChange(_bondingCurve, _newState);\n\n126:         emit ShareCreated(id, _shareName, _bondingCurve, msg.sender);\n\n220:         emit NFTsCreated(_id, msg.sender, _amount, fee);\n\n240:         emit NFTsBurned(_id, msg.sender, _amount, fee);\n\n248:         emit PlatformFeeClaimed(msg.sender, amount);\n\n258:         emit CreatorFeeClaimed(msg.sender, _id, amount);\n\n269:         emit HolderFeeClaimed(msg.sender, _id, amount);\n\n303:         emit ShareCreationRestricted(_isRestricted);\n```\n",
          "loc": [
            "[258](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L258)",
            "[269](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L269)",
            "[303](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L303)",
            "[126](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L126)",
            "[220](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L220)",
            "[240](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L240)",
            "[248](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L248)",
            "[107](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L107)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}89:         emit CarryWithdrawal(_amount);\n```\n",
          "loc": [
            "[89](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L89)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Use `calldata` instead of `memory` for immutable arguments",
      "description": "Mark data types as `calldata` instead of `memory` where possible. This makes it so that the data is not automatically loaded into memory. If the data passed into the function does not need to be changed (like updating values in an array), it can be passed in as `calldata`. The one exception to this is if the argument must later be passed into another function that takes an argument that specifies `memory` storage.",
      "gasSavings": 1200,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit _shareName\n/// @audit _metadataURI\n114:     function createNewShare(\n115:         string memory _shareName,\n116:         address _bondingCurve,\n117:         string memory _metadataURI\n118:     ) external onlyShareCreator returns (uint256 id) {\n```\n",
          "loc": [
            "[114-118](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L114-L118)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}/// @audit _name\n/// @audit _symbol\n33:     function create(string memory _name, string memory _symbol) external returns (address) {\n```\n",
          "loc": [
            "[33](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L33)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Using `bool`s for storage incurs overhead",
      "description": "[Booleans are more expensive than uint256](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/58f635312aa21f947cae5f8578638a85aa2519f5/contracts/security/ReentrancyGuard.sol#L23-L27) or any type that takes up a full word because each write operation emits an extra SLOAD to first read the slot's contents, replace the bits taken up by the boolean, and then write back. This is the compiler's defense against contract upgrades and pointer aliasing, and it cannot be disabled.\nUse `uint256(0)` and `uint256(1)` for true/false to avoid a Gwarmaccess (**[100 gas](https://gist.github.com/IllIllI000/1b70014db712f8572a72378321250058)**) for the extra SLOAD.",
      "gasSavings": 400,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}49:     mapping(address => bool) public whitelistedBondingCurves;\n\n61:     bool public shareCreationRestricted = true;\n\n64:     mapping(address => bool) public whitelistedShareCreators;\n```\n",
          "loc": [
            "[64](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L64)",
            "[49](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L49)",
            "[61](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L61)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}15:     mapping(address => bool) public isAsD;\n```\n",
          "loc": [
            "[15](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L15)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Multiple accesses of the same mapping/array key/index should be cached",
      "description": "The instances below point to the second+ access of a value inside a mapping/array, within a function. Caching a mapping's value in a local `storage` or `calldata` variable when the value is accessed [multiple times](https://gist.github.com/IllIllI000/ec23a57daa30a8f8ca8b9681c8ccefb0), saves **~42 gas per access** due to not having to recalculate the key's keccak256 hash (Gkeccak256 - **30 gas**) and that calculation's associated stack operations. Caching an array's struct avoids recalculating the array offsets into memory/calldata",
      "gasSavings": 924,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit `whitelistedBondingCurves[_bondingCurve]` is also accessed on line 105\n106:         whitelistedBondingCurves[_bondingCurve] = _newState;\n\n/// @audit `shareIDs[_shareName]` is also accessed on line 120\n122:         shareIDs[_shareName] = id;\n\n/// @audit `shareData[id]` is also accessed on line 124, 125\n123:         shareData[id].bondingCurve = _bondingCurve;\n\n/// @audit `shareData[_id]` is also accessed on line 135\n134:         address bondingCurve = shareData[_id].bondingCurve;\n\n/// @audit `shareData[_id]` is also accessed on line 144\n143:         address bondingCurve = shareData[_id].bondingCurve;\n\n/// @audit `shareData[_id]` is also accessed on line 159, 161, 162, 151\n158:         _splitFees(_id, fee, shareData[_id].tokensInCirculation);\n\n/// @audit `shareData[_id]` is also accessed on line 180, 182, 183\n177:         _splitFees(_id, fee, shareData[_id].tokensInCirculation);\n\n/// @audit `shareData[_id]` is also accessed on line 196\n195:         address bondingCurve = shareData[_id].bondingCurve;\n\n/// @audit `shareData[_id]` is also accessed on line 210, 212\n207:         _splitFees(_id, fee, shareData[_id].tokensInCirculation);\n\n/// @audit `shareData[_id]` is also accessed on line 233, 235\n230:         _splitFees(_id, fee, shareData[_id].tokensInCirculation);\n\n/// @audit `shareData[_id]` is also accessed on line 256, 254\n255:         uint256 amount = shareData[_id].shareCreatorPool;\n\n/// @audit `shareData[_id]` is also accessed on line 290\n288:         shareData[_id].shareCreatorPool += shareCreatorFee;\n\n/// @audit `whitelistedShareCreators[_address]` is also accessed on line 310\n311:         whitelistedShareCreators[_address] = _isWhitelisted;\n```\n",
          "loc": [
            "[288](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L288)",
            "[106](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L106)",
            "[122](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L122)",
            "[123](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L123)",
            "[134](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L134)",
            "[143](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L143)",
            "[158](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L158)",
            "[177](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L177)",
            "[195](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L195)",
            "[207](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L207)",
            "[230](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L230)",
            "[255](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L255)",
            "[311](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L311)"
          ]
        }
      ]
    },
    {
      "severity": "Gas",
      "title": "Multiple mappings can be replaced with a single struct mapping",
      "description": "Saves a storage slot for the mapping. Depending on the circumstances and sizes of types, can avoid a Gsset (**20000 gas**) per mapping combined. Reads and subsequent writes can also be cheaper when a function requires both values and they both fit in the same storage slot. Finally, if both fields are accessed in the same function, can save **~42 gas per access** due to [not having to recalculate the key's keccak256 hash](https://gist.github.com/IllIllI000/ec23a57daa30a8f8ca8b9681c8ccefb0) (Gkeccak256 - 30 gas) and that calculation's associated stack operations.",
      "gasSavings": 168,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}43:     mapping(uint256 => ShareData) public shareData;\n\n46:     mapping(uint256 => address) public shareBondingCurves;\n\n52:     mapping(uint256 => mapping(address => uint256)) public tokensByAddress;\n\n55:     mapping(uint256 => mapping(address => uint256)) public rewardsLastClaimedValue;\n```\n",
          "loc": [
            "[46](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L46)",
            "[43](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L43)",
            "[52](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L52)",
            "[55](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L55)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Using `private` rather than `public` for constants, saves gas",
      "description": "If needed, the values can be read from the verified contract source code, or if there are multiple values there can be a single getter function that [returns a tuple](https://github.com/code-423n4/2022-08-frax/blob/90f55a9ce4e25bceed3a74290b854341d8de6afa/src/contracts/FraxlendPair.sol#L156-L178) of the values of all currently-public constants. Saves **3406-3606 gas** in deployment gas due to the compiler not having to create non-payable getter functions for deployment calldata, not having to store the bytes of the value outside of where it's used, and not adding another entry to the method ID table",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}20:     IERC20 public immutable token;\n```\n",
          "loc": [
            "[20](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L20)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}8:     uint256 public immutable priceIncrease;\n```\n",
          "loc": [
            "[8](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L8)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}15:     address public immutable cNote; // Reference to the cNOTE token\n```\n",
          "loc": [
            "[15](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L15)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}12:     address public immutable cNote;\n```\n",
          "loc": [
            "[12](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L12)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Event names should use CamelCase",
      "description": "The instances below are already CamelCase (events are supposed to use CamelCase, not lowerCamelCase).",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}69:     event BondingCurveStateChange(address indexed curve, bool isWhitelisted);\n\n70:     event ShareCreated(uint256 indexed id, string name, address indexed bondingCurve, address indexed creator);\n\n71:     event SharesBought(uint256 indexed id, address indexed buyer, uint256 amount, uint256 price, uint256 fee);\n\n72:     event SharesSold(uint256 indexed id, address indexed seller, uint256 amount, uint256 price, uint256 fee);\n\n73:     event NFTsCreated(uint256 indexed id, address indexed creator, uint256 amount, uint256 fee);\n\n74:     event NFTsBurned(uint256 indexed id, address indexed burner, uint256 amount, uint256 fee);\n\n75:     event PlatformFeeClaimed(address indexed claimer, uint256 amount);\n\n76:     event CreatorFeeClaimed(address indexed claimer, uint256 indexed id, uint256 amount);\n\n77:     event HolderFeeClaimed(address indexed claimer, uint256 indexed id, uint256 amount);\n\n78:     event ShareCreationRestricted(bool isRestricted);\n```\n",
          "loc": [
            "[72](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L72)",
            "[73](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L73)",
            "[74](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L74)",
            "[75](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L75)",
            "[76](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L76)",
            "[77](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L77)",
            "[78](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L78)",
            "[69](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L69)",
            "[70](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L70)",
            "[71](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L71)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}20:     event CarryWithdrawal(uint256 amount);\n```\n",
          "loc": [
            "[20](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L20)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}20:     event CreatedToken(address token, string symbol, string name, address creator);\n```\n",
          "loc": [
            "[20](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L20)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Avoid double casting",
      "description": "The rule is valid, but the following findings are invalid.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}87:         IERC20 note = IERC20(CErc20Interface(cNote).underlying());\n```\n",
          "loc": [
            "[87](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L87)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Event is missing `indexed` fields",
      "description": "The rule is valid, but the following findings are invalid.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}70:     event ShareCreated(uint256 indexed id, string name, address indexed bondingCurve, address indexed creator);\n```\n",
          "loc": [
            "[70](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L70)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "`internal` functions only called once can be inlined to save gas",
      "description": "The rule is valid, but the following findings are invalid.",
      "gasSavings": 30,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}42:     function log2(uint256 x) internal pure returns (uint256 r) {\n```\n",
          "loc": [
            "[42](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L42)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Variables should be named in mixedCase style",
      "description": "As the [Solidity Style Guide](https://docs.soliditylang.org/en/latest/style-guide.html#naming-styles) suggests: arguments, local variables and mutable state variables should be named in mixedCase style.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}/// @audit isAsD\n15:     mapping(address => bool) public isAsD;\n```\n",
          "loc": [
            "[15](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L15)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "safeMint should be used in place of mint",
      "description": "The following are not `ERC721.mint()` calls.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}214:         _mint(msg.sender, _id, _amount, \"\");\n```\n",
          "loc": [
            "[214](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L214)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}52:         uint256 returnCode = cNoteToken.mint(_amount);\n\n55:         _mint(msg.sender, _amount);\n```\n",
          "loc": [
            "[52](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L52)",
            "[55](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L55)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "`x += y` is more expensive than `x = x + y` for state variables",
      "description": "It is not applicable to complex state variables.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}161:         shareData[_id].tokenCount += _amount;\n\n162:         shareData[_id].tokensInCirculation += _amount;\n\n163:         tokensByAddress[_id][msg.sender] += _amount;\n\n182:         shareData[_id].tokenCount -= _amount;\n\n183:         shareData[_id].tokensInCirculation -= _amount;\n\n184:         tokensByAddress[_id][msg.sender] -= _amount; // Would underflow if user did not have enough tokens\n\n211:         tokensByAddress[_id][msg.sender] -= _amount;\n\n212:         shareData[_id].tokensInCirculation -= _amount;\n\n234:         tokensByAddress[_id][msg.sender] += _amount;\n\n235:         shareData[_id].tokensInCirculation += _amount;\n\n288:         shareData[_id].shareCreatorPool += shareCreatorFee;\n\n290:             shareData[_id].shareHolderRewardsPerTokenScaled += (shareHolderFee * 1e18) / _tokenCount;\n```\n",
          "loc": [
            "[235](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L235)",
            "[161](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L161)",
            "[162](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L162)",
            "[163](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L163)",
            "[182](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L182)",
            "[183](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L183)",
            "[184](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L184)",
            "[211](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L211)",
            "[212](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L212)",
            "[234](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L234)",
            "[290](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L290)",
            "[288](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L288)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Revert on transfer to the zero address",
      "description": "The rule is valid, but the following findings are invalid.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}153:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), price + fee);\n\n166:             SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim);\n\n187:         SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim + price - fee);\n\n206:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), fee);\n\n217:             SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim);\n\n229:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), fee);\n\n238:         SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim);\n\n247:         SafeERC20.safeTransfer(token, msg.sender, amount);\n\n257:         SafeERC20.safeTransfer(token, msg.sender, amount);\n\n267:             SafeERC20.safeTransfer(token, msg.sender, amount);\n```\n",
          "loc": [
            "[187](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L187)",
            "[153](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L153)",
            "[166](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L166)",
            "[206](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L206)",
            "[217](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L217)",
            "[229](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L229)",
            "[238](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L238)",
            "[247](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L247)",
            "[257](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L257)",
            "[267](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L267)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}50:         SafeERC20.safeTransferFrom(note, msg.sender, address(this), _amount);\n\n66:         SafeERC20.safeTransfer(note, msg.sender, _amount);\n\n88:         SafeERC20.safeTransfer(note, msg.sender, _amount);\n```\n",
          "loc": [
            "[50](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L50)",
            "[66](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L66)",
            "[88](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L88)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "`SafeTransferLib` does not ensure that the token contract exists",
      "description": "There is a subtle difference between the implementation of solady/solmate's `SafeTransferLib` and OZ's SafeERC20. OZ's SafeERC20 checks if the token is a contract or not, while [`SafeTransferLib` does not](https://github.com/transmissions11/solmate/blob/fadb2e2778adbf01c80275bfb99e5c14969d964b/src/utils/SafeTransferLib.sol#L9):\n\n`@dev Note that none of the functions in this library check that a token has code at all! That responsibility is delegated to the caller.`",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}153:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), price + fee);\n\n166:             SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim);\n\n187:         SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim + price - fee);\n\n206:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), fee);\n\n217:             SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim);\n\n229:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), fee);\n\n238:         SafeERC20.safeTransfer(token, msg.sender, rewardsSinceLastClaim);\n\n247:         SafeERC20.safeTransfer(token, msg.sender, amount);\n\n257:         SafeERC20.safeTransfer(token, msg.sender, amount);\n\n267:             SafeERC20.safeTransfer(token, msg.sender, amount);\n```\n",
          "loc": [
            "[187](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L187)",
            "[206](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L206)",
            "[217](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L217)",
            "[229](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L229)",
            "[238](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L238)",
            "[247](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L247)",
            "[267](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L267)",
            "[257](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L257)",
            "[153](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L153)",
            "[166](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L166)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}50:         SafeERC20.safeTransferFrom(note, msg.sender, address(this), _amount);\n\n51:         SafeERC20.safeApprove(note, cNote, _amount);\n\n66:         SafeERC20.safeTransfer(note, msg.sender, _amount);\n\n88:         SafeERC20.safeTransfer(note, msg.sender, _amount);\n```\n",
          "loc": [
            "[66](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L66)",
            "[50](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L50)",
            "[51](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L51)",
            "[88](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L88)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Solidity version 0.8.20 or above may not work on other chains due to PUSH0",
      "description": "The rule is invalid for this project",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}2: pragma solidity 0.8.19;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L2)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}2: pragma solidity 0.8.19;\n```\n",
          "loc": [
            "[2](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L2)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "SPDX identifier should be the in the first line of a solidity file",
      "description": "SPDX identifier should be the in the first line of a solidity file.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}1: // SPDX-License-Identifier: GPL-3.0-only\n```\n",
          "loc": [
            "[1](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L1)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}1: // SPDX-License-Identifier: GPL-3.0-only\n```\n",
          "loc": [
            "[1](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L1)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}1: // SPDX-License-Identifier: GPL-3.0-only\n```\n",
          "loc": [
            "[1](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L1)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}1: // SPDX-License-Identifier: GPL-3.0-only\n```\n",
          "loc": [
            "[1](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L1)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Numbers downcast to `address`es may result in collisions",
      "description": "The rule is valid, but the following findings are invalid.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}153:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), price + fee);\n\n206:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), fee);\n\n229:         SafeERC20.safeTransferFrom(token, msg.sender, address(this), fee);\n```\n",
          "loc": [
            "[206](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L206)",
            "[153](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L153)",
            "[229](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L229)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}50:         SafeERC20.safeTransferFrom(note, msg.sender, address(this), _amount);\n\n75:         uint256 maximumWithdrawable = (CTokenInterface(cNote).balanceOf(address(this)) * exchangeRate) /\n```\n",
          "loc": [
            "[50](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L50)",
            "[75](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L75)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}35:         isAsD[address(createdToken)] = true;\n\n36:         emit CreatedToken(address(createdToken), _symbol, _name, msg.sender);\n\n37:         return address(createdToken);\n```\n",
          "loc": [
            "[36](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L36)",
            "[35](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L35)",
            "[37](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L37)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Unused named return",
      "description": "The rule is valid, but the following findings are invalid.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}/// @audit r is used in assembly\n42:     function log2(uint256 x) internal pure returns (uint256 r) {\n```\n",
          "loc": [
            "[42](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L42)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Unused named return variables without optimizer waste gas",
      "description": "Suggestions that only apply when the optimizer is _off_ are not useful to sponsors. Why would they pay for gas optimizations if they don't have the optimizer on, and don't plan to turn it on? Only a [small minority](https://github.com/search?q=org%3Acode-423n4+%22optimizer+%3D+false%22&type=code) have the optimizer off; the majority have it set to more than [200](https://github.com/search?q=org%3Acode-423n4+optimizer_runs&type=code) runs",
      "gasSavings": 9,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}/// @audit r is used in assembly\n42:     function log2(uint256 x) internal pure returns (uint256 r) {\n```\n",
          "loc": [
            "[42](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L42)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Using bitmap to store bool states can save gas",
      "description": "None of these are examples where bitmaps can be used",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}49:     mapping(address => bool) public whitelistedBondingCurves;\n\n64:     mapping(address => bool) public whitelistedShareCreators;\n```\n",
          "loc": [
            "[64](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L64)",
            "[49](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L49)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}15:     mapping(address => bool) public isAsD;\n```\n",
          "loc": [
            "[15](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L15)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Using `delete` statement can save gas",
      "description": "Using delete instead of assigning zero to state variables does not save any extra gas with the optimizer [on](https://gist.github.com/IllIllI000/ef8ec3a70aede7f12433fe63dc418515#with-the-optimizer-set-at-200-runs) (saves 5-8 gas with optimizer completely off), so this finding is invalid, especially since if they were interested in gas savings, they'd have the optimizer enabled.",
      "gasSavings": 16,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}246:         platformPool = 0;\n\n256:         shareData[_id].shareCreatorPool = 0;\n```\n",
          "loc": [
            "[246](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L246)",
            "[256](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L256)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Use `!= 0` or `== 0` for unsigned integer comparison",
      "description": "Only valid prior to solidity version 0.8.13, and only for require() statements, and at least one of those is not true for the examples below.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}165:         if (rewardsSinceLastClaim > 0) {\n\n216:         if (rewardsSinceLastClaim > 0) {\n\n266:         if (amount > 0) {\n\n289:         if (_tokenCount > 0) {\n```\n",
          "loc": [
            "[289](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L289)",
            "[165](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L165)",
            "[216](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L216)",
            "[266](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L266)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Avoid contract existence checks by using low level calls",
      "description": "Prior to 0.8.10 the compiler inserted extra code, including EXTCODESIZE (100 gas), to check for contract existence for external function calls. In more recent solidity versions, the compiler will not insert these checks if the external call has a return value. Similar behavior can be achieved in earlier versions by using low-level calls, since low level calls never check for contract existence.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit Return value not used.\n96:             turnstile.register(tx.origin);\n\n/// @audit Invalid for solidity version >= 0.8.10\n135:         (price, fee) = IBondingCurve(bondingCurve).getPriceAndFee(shareData[_id].tokenCount + 1, _amount);\n\n/// @audit Invalid for solidity version >= 0.8.10\n144:         (price, fee) = IBondingCurve(bondingCurve).getPriceAndFee(shareData[_id].tokenCount - _amount + 1, _amount);\n\n/// @audit Invalid for solidity version >= 0.8.10\n196:         (uint256 priceForOne, ) = IBondingCurve(bondingCurve).getPriceAndFee(shareData[_id].tokenCount, 1);\n```\n",
          "loc": [
            "[144](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L144)",
            "[96](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L96)",
            "[135](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L135)",
            "[196](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L196)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}/// @audit Return value not used.\n40:             turnstile.register(_csrRecipient);\n```\n",
          "loc": [
            "[40](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L40)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}/// @audit Return value not used.\n29:             turnstile.register(tx.origin);\n```\n",
          "loc": [
            "[29](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L29)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Use Ownable2Step instead of Ownable",
      "description": "[`Ownable2Step`](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/3d7a93876a2e5e1d7fe29b5a0e96e222afdc4cfa/contracts/access/Ownable2Step.sol#L31-L56) and [`Ownable2StepUpgradeable`](https://github.com/OpenZeppelin/openzeppelin-contracts-upgradeable/blob/25aabd286e002a1526c345c8db259d57bdf0ad28/contracts/access/Ownable2StepUpgradeable.sol#L47-L63) prevent the contract ownership from mistakenly being transferred to an address that cannot handle it (e.g. due to a typo in the address), by requiring that the recipient of the owner permissions actively accept via a contract call of its own.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}10: contract Market is ERC1155, Ownable2Step {\n```\n",
          "loc": [
            "[10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L10)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}11: contract asD is ERC20, Ownable2Step {\n```\n",
          "loc": [
            "[11](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L11)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}8: contract asDFactory is Ownable2Step {\n```\n",
          "loc": [
            "[8](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L8)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Events that mark critical parameter changes should contain both the old and the new value",
      "description": "This should especially be done if the new value is not required to be different from the old value.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}107:         emit BondingCurveStateChange(_bondingCurve, _newState);\n```\n",
          "loc": [
            "[107](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L107)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "`safeTransfer` function does not check for contract existence",
      "description": "The examples below are either not token transfers, or are making high-level `transfer()`/`transferFrom()` calls (which check for contract existence), or are from a library that checks for contract existence.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}91:     constructor(string memory _uri, address _paymentToken) ERC1155(_uri) Ownable() {\n```\n",
          "loc": [
            "[91](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L91)"
          ]
        },
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}10:     constructor(uint256 _priceIncrease) {\n```\n",
          "loc": [
            "[10](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L10)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}28:     constructor(\n```\n",
          "loc": [
            "[28](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L28)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asDFactory.sol\n\n}24:     constructor(address _cNote) {\n```\n",
          "loc": [
            "[24](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asDFactory.sol#L24)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Assembly block creates dirty bits",
      "description": "Writing data to the free memory pointer without later updating the free memory pointer will cause there to be dirty bits at that memory location. Not updating the free memory pointer will make it [harder](https://docs.soliditylang.org/en/latest/ir-breaking-changes.html#cleanup) for the optimizer to reason about whether the memory needs to be cleaned before use, which will lead to worse optimizations. Update the free memory pointer and annotate the block (`assembly (\"memory-safe\") { ... }`) to avoid this issue.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}44:         assembly {\n```\n",
          "loc": [
            "[44](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L44)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "`require()` or `revert()` statements that check input arguments should be at the top of the function",
      "description": "The rule is valid, but the following findings are invalid.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/Market.sol\n\n}/// @audit should check before line 119\n120:         require(shareIDs[_shareName] == 0, \"Share already exists\");\n```\n",
          "loc": [
            "[120](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/Market.sol#L120)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}/// @audit should check before line 48\n54:         require(returnCode == 0, \"Error when minting\");\n\n/// @audit should check before line 61\n64:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem-underlying\n\n/// @audit should check before line 73\n86:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem\n```\n",
          "loc": [
            "[86](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L86)",
            "[54](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L54)",
            "[64](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L64)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Division by zero not prevented",
      "description": "The divisions below take an input parameter that has no zero-value checks, which can cause the functions reverting if zero is passed.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}35:         return 1e17 / divisor;\n```\n",
          "loc": [
            "[35](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L35)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Inconsistent spacing in comments",
      "description": "The comments below are in the `//x` format, which differs from the commonly used idiomatic comment syntax of `//<space>x`. It is recommended to use a consistent comment syntax throughout.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: 1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol\n\n}/// @audit It is an URL\n41:     /// @notice Copied from Solady: https://github.com/Vectorized/solady/blob/main/src/utils/FixedPointMathLib.sol\n```\n",
          "loc": [
            "[41](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/1155tech-contracts/src/bonding_curve/LinearBondingCurve.sol#L41)"
          ]
        },
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}/// @audit It is an URL\n53:         // Mint returns 0 on success: https://docs.compound.finance/v2/ctokens/#mint\n\n/// @audit It is an URL\n64:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem-underlying\n\n/// @audit It is an URL\n86:         require(returnCode == 0, \"Error when redeeming\"); // 0 on success: https://docs.compound.finance/v2/ctokens/#redeem\n```\n",
          "loc": [
            "[86](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L86)",
            "[53](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L53)",
            "[64](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L64)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Consider activating via-ir for deploying",
      "description": "The rule is invalid for this project",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\n/// @audit Global finding.\n```\n",
          "loc": [
            "[0](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Enable IR-based code generation",
      "description": "The rule is invalid for this project",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\n/// @audit Global finding.\n```\n",
          "loc": [
            "[0](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Large approvals may not work with some `ERC20` tokens",
      "description": "Some tokens such as [COMP](https://github.com/compound-finance/compound-protocol/blob/a3214f67b73310d547e00fc578e8355911c9d376/contracts/Governance/Comp.sol#L89-L91) downcast such approvals to `uint96` and use that as a raw value rather than interpreting it as an infinite approval. Eventually these approvals will reach zero, at which point the calling contract will no longer function properly.",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}51:         SafeERC20.safeApprove(note, cNote, _amount);\n```\n",
          "loc": [
            "[51](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L51)"
          ]
        }
      ]
    },
    {
      "severity": "Disputed",
      "title": "Contracts are vulnerable to rebasing accounting-related issues",
      "description": "The rule is invalid for this project",
      "gasSavings": null,
      "category": null,
      "instances": [
        {
          "content": "```solidity\nFile: asD/src/asD.sol\n\n}72:     function withdrawCarry(uint256 _amount) external onlyOwner {\n```\n",
          "loc": [
            "[72](https://github.com/code-423n4/2023-11-canto/blob/516099801101950ac9e1117a70e095b06f9bf6a1/asD/src/asD.sol#L72)"
          ]
        }
      ]
    }
  ]
}
